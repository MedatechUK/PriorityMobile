echo Begin of Upgrade 7.0.55755
DBI <<\EOF
CREATE TABLE ZSFDC_CLEANTABLE 'SFDC Load Clean Up' 1
LOADID (INT,17,'Load ID')
LINE (INT,17,'Ln')
UNIQUE (LOADID,LINE)
;
CREATE TABLE ZSFDC_LOAD_COUNT 'Table for SFDC Inv Count' 1
RECORDTYPE (CHAR,3,'Record Type')
LINE (INT,8,'Ln')
LOADED (CHAR,1,'Loaded?')
KEY1 (CHAR,20,'Key 1')
KEY2 (CHAR,20,'Key 2')
KEY3 (CHAR,20,'Key 3')
WARHSNAME (CHAR,20,'WARHSNAME')
LOCNAME (CHAR,32,'LOCNAME')
PARTNAME (CHAR,32,'PARTNAME')
STATUS (CHAR,32,'STATUS')
CQUANT (INT,13,'CQUANT')
CURDATE (DATE,8,'CURDATE')
USERLOGIN (CHAR,20,'USERLOGIN')
DOCNO (CHAR,16,'Inventory Count No.')
TRANS (INT,13,'Trans (ID)')
FLAG (CHAR,1,'In this pass')
IDENTICAL (CHAR,1,'As per request')
UNIQUE (LINE)
;
CREATE TABLE ZSFDC_LOAD_COUNT_dot 'Table SFDC Inv Count Update' 1
RECORDTYPE (CHAR,3,'Record Type')
LINE (INT,8,'Ln')
LOADED (CHAR,1,'Loaded?')
KEY1 (CHAR,20,'Key 1')
KEY2 (CHAR,20,'Key 2')
KEY3 (CHAR,20,'Key 3')
WARHSNAME (CHAR,20,'WARHSNAME')
LOCNAME (CHAR,32,'LOCNAME')
PARTNAME (CHAR,32,'PARTNAME')
STATUS (CHAR,32,'STATUS')
CQUANT (INT,13,'CQUANT')
CURDATE (DATE,8,'CURDATE')
USERLOGIN (CHAR,20,'USERLOGIN')
DOCNO (CHAR,16,'Inventory Count No.')
TRANS (INT,13,'Trans (ID)')
FLAG (CHAR,1,'In this pass')
IDENTICAL (CHAR,1,'As per request')
UNIQUE (LINE)
;
CREATE TABLE ZSFDC_LOAD_GRV 'SFDC Grv Load Table' 1
LINE (INT,8,'Line Number')
RECORDTYPE (CHAR,3,'Record Type')
LOADED (CHAR,1,'Loaded ?')
KEY1 (CHAR,20,'Key 1')
KEY2 (CHAR,20,'Key 2')
KEY3 (CHAR,20,'Key 3')
CURDATE (DATE,8,'Transaction Date')
ORDNAME (CHAR,16,'Purchase Order No.')
TOWARHSNAME (CHAR,4,'Receiving Warehouse')
TOLOCNAME (CHAR,16,'Receiving Location')
PARTNAME (CHAR,30,'Part Number')
TQUANT (INT,17,3,'Receipt Quantity')
STATUS (CHAR,16,'Transaction Status')
STATDES (CHAR,12,'Status')
BOOKNUM (CHAR,16,'Vendor Document')
ORDI (INT,13,'ORDI')
USERLOGIN (CHAR,20,'USERLOGIN')
ORDNAME1 (CHAR,16,'PO Number for line')
SUPNAME (CHAR,32,'Supplier Name')
UNIQUE (LINE)
;
CREATE TABLE ZSFDC_LOAD_GRV_hd 'SFDC GRV header Load Table' 1
LINE (INT,8,'Line Number')
RECORDTYPE (CHAR,3,'Record Type')
LOADED (CHAR,1,'Loaded ?')
KEY1 (CHAR,20,'Key 1')
KEY2 (CHAR,20,'Key 2')
KEY3 (CHAR,20,'Key 3')
CURDATE (DATE,8,'Transaction Date')
ORDNAME (CHAR,16,'Purchase Order No.')
TOWARHSNAME (CHAR,4,'Receiving Warehouse')
TOLOCNAME (CHAR,16,'Receiving Location')
PARTNAME (CHAR,30,'Part Number')
TQUANT (INT,17,3,'Receipt Quantity')
STATUS (CHAR,16,'Transaction Status')
STATDES (CHAR,12,'Status')
BOOKNUM (CHAR,16,'Vendor Document')
ORDI (INT,13,'ORDI')
USERLOGIN (CHAR,20,'USERLOGIN')
ORDNAME1 (CHAR,16,'PO Number for line')
SUPNAME (CHAR,32,'Supplier Name')
UNIQUE (LINE)
;
CREATE TABLE ZSFDC_LOAD_WHTX 'SFDC W/H Tfr Load - Barcodes' 1
LINE (INT,8,'Line Number')
RECORDTYPE (CHAR,3,'Record Type')
LOADED (CHAR,1,'Loaded ?')
KEY1 (CHAR,20,'Key 1')
KEY2 (CHAR,20,'Key 2')
KEY3 (CHAR,20,'Key 3')
CURDATE (DATE,8,'Transaction Date')
DOCNO (CHAR,16,'Document')
TRANS (INT,13,'Transaction (ID)')
IDENTICAL (CHAR,1,'As per request')
FLAG (CHAR,1,'In this pass')
WARHSNAME (CHAR,10,'From Warehouse')
LOCNAME (CHAR,10,'Default From Bin')
TOWARHSNAME (CHAR,10,'To Warehouse')
TOLOCATION (CHAR,10,'Default To Bin')
STATDES (CHAR,12,'Status')
OWNERLOGIN (CHAR,20,'User')
PARTNAME (CHAR,30,'Part Name')
TQUANT (INT,15,3,'Transaction Qty')
STATUS1 (CHAR,16,'From Status')
LOCNAME1 (CHAR,10,'From Bin')
TOLOCNAME (CHAR,10,'To Bin')
TOSTATUS (CHAR,16,'To Status')
WARHSNAME1 (CHAR,10,'From Warehouse rt2')
TOWARHSNAME2 (CHAR,10,'To Warehouse rt2')
SERIALNAME (CHAR,40,'Serial Name')
UNIQUE (LINE)
;
CREATE TABLE ZSFDC_LOAD_WHTX_dotx 'SFDC W/H Tfr Load - Updates' 1
LINE (INT,8,'Line Number')
RECORDTYPE (CHAR,3,'Record Type')
LOADED (CHAR,1,'Loaded ?')
KEY1 (CHAR,20,'Key 1')
KEY2 (CHAR,20,'Key 2')
KEY3 (CHAR,20,'Key 3')
CURDATE (DATE,8,'Transaction Date')
DOCNO (CHAR,16,'Document')
TRANS (INT,13,'Transaction (ID)')
IDENTICAL (CHAR,1,'As per request')
FLAG (CHAR,1,'In this pass')
WARHSNAME (CHAR,4,'From Warehouse')
LOCNAME (CHAR,5,'Default From Bin')
TOWARHSNAME (CHAR,4,'To Warehouse')
TOLOCATION (CHAR,5,'Default To Bin')
STATDES (CHAR,12,'Status')
OWNERLOGIN (CHAR,20,'User')
PARTNAME (CHAR,15,'Part Name')
TQUANT (INT,15,3,'Transaction Qty')
STATUS1 (CHAR,16,'From Status')
LOCNAME1 (CHAR,5,'From Bin')
TOLOCNAME (CHAR,5,'To Bin')
TOSTATUS (CHAR,16,'To Status')
WARHSNAME1 (CHAR,4,'From Warehouse rt2')
TOWARHSNAME2 (CHAR,4,'To Warehouse rt2')
SERIALNAME (CHAR,40,'Serial Name')
UNIQUE (LINE)
;
CREATE TABLE ZSFDC_TEST 'SFDC Test' 1
ID (INT,13,'Test ID')
USER (INT,13,'User ID')
CDATE (DATE,8,'Date Opened')
UNIQUE (ID)
;
EOF
BRING << \EOF
18 20 ZSFDC_LOAD_WHTX_dotx1 
56 20 ZSFDC_LOAD_WHTX_dotx27 SFDC W/H Tfr Load - Updates0 
19 20 ZSFDC_LOAD_WHTX_dotx1 4 LINE3 INT8 8 11 Line Number
33 20 ZSFDC_LOAD_WHTX_dotx4 LINE0 48 
19 20 ZSFDC_LOAD_WHTX_dotx2 10 RECORDTYPE4 CHAR3 3 11 Record Type
19 20 ZSFDC_LOAD_WHTX_dotx3 6 LOADED4 CHAR1 1 8 Loaded ?
19 20 ZSFDC_LOAD_WHTX_dotx4 4 KEY14 CHAR20 20 5 Key 1
19 20 ZSFDC_LOAD_WHTX_dotx5 4 KEY24 CHAR20 20 5 Key 2
19 20 ZSFDC_LOAD_WHTX_dotx6 4 KEY34 CHAR20 20 5 Key 3
19 20 ZSFDC_LOAD_WHTX_dotx7 7 CURDATE4 DATE8 8 16 Transaction Date
19 20 ZSFDC_LOAD_WHTX_dotx8 5 DOCNO4 CHAR16 16 8 Document
19 20 ZSFDC_LOAD_WHTX_dotx9 5 TRANS3 INT13 8 16 Transaction (ID)
33 20 ZSFDC_LOAD_WHTX_dotx5 TRANS0 48 
19 20 ZSFDC_LOAD_WHTX_dotx10 9 IDENTICAL4 CHAR1 1 14 As per request
19 20 ZSFDC_LOAD_WHTX_dotx11 4 FLAG4 CHAR1 1 12 In this pass
19 20 ZSFDC_LOAD_WHTX_dotx12 9 WARHSNAME4 CHAR4 4 14 From Warehouse
19 20 ZSFDC_LOAD_WHTX_dotx13 7 LOCNAME4 CHAR5 5 16 Default From Bin
19 20 ZSFDC_LOAD_WHTX_dotx14 11 TOWARHSNAME4 CHAR4 4 12 To Warehouse
19 20 ZSFDC_LOAD_WHTX_dotx15 10 TOLOCATION4 CHAR5 5 14 Default To Bin
19 20 ZSFDC_LOAD_WHTX_dotx16 7 STATDES4 CHAR12 12 6 Status
19 20 ZSFDC_LOAD_WHTX_dotx17 10 OWNERLOGIN4 CHAR20 20 4 User
19 20 ZSFDC_LOAD_WHTX_dotx18 8 PARTNAME4 CHAR15 15 9 Part Name
19 20 ZSFDC_LOAD_WHTX_dotx19 6 TQUANT3 INT15 8 15 Transaction Qty
33 20 ZSFDC_LOAD_WHTX_dotx6 TQUANT3 51 
19 20 ZSFDC_LOAD_WHTX_dotx20 7 STATUS14 CHAR16 16 11 From Status
19 20 ZSFDC_LOAD_WHTX_dotx21 8 LOCNAME14 CHAR5 5 8 From Bin
19 20 ZSFDC_LOAD_WHTX_dotx22 9 TOLOCNAME4 CHAR5 5 6 To Bin
19 20 ZSFDC_LOAD_WHTX_dotx23 8 TOSTATUS4 CHAR16 16 9 To Status
19 20 ZSFDC_LOAD_WHTX_dotx24 10 WARHSNAME14 CHAR4 4 18 From Warehouse rt2
19 20 ZSFDC_LOAD_WHTX_dotx25 12 TOWARHSNAME24 CHAR4 4 16 To Warehouse rt2
20 20 ZSFDC_LOAD_WHTX_dotx85 1 
21 20 ZSFDC_LOAD_WHTX_dotx1 4 LINE1 
17 20 ZSFDC_LOAD_WHTX_dotx23 SFDC Process TX Request20 ZSFDC_LOAD_WHTX_dotx73 89 0 0 0 0 0 99999 
57 20 Internal Development1 
58 1 20 ZSFDC_LOAD_WHTX_dotx73 
59 20 ZSFDC_LOAD_WHTX_dotx73 1 111 DOCUMENTS_T70 0 
59 20 ZSFDC_LOAD_WHTX_dotx73 1 212 TRANSORDER_T70 0 
60 20 ZSFDC_LOAD_WHTX_dotx73 5 DOCNO11 DOCUMENTS_T70 5 DOCNO1 0 0 0 0 0 
60 20 ZSFDC_LOAD_WHTX_dotx73 8 LOCNAME112 TRANSORDER_T70 7 LOCNAME3 0 0 0 0 0 
60 20 ZSFDC_LOAD_WHTX_dotx73 8 PARTNAME12 TRANSORDER_T70 8 PARTNAME2 0 0 0 0 0 
60 20 ZSFDC_LOAD_WHTX_dotx73 7 STATDES12 TRANSORDER_T70 8 CUSTNAME4 0 0 0 0 0 
60 20 ZSFDC_LOAD_WHTX_dotx73 9 TOLOCNAME12 TRANSORDER_T70 9 TOLOCNAME0 0 0 0 0 0 
60 20 ZSFDC_LOAD_WHTX_dotx73 6 TQUANT12 TRANSORDER_T70 6 TQUANT5 0 0 0 0 0 
60 20 ZSFDC_LOAD_WHTX_dotx73 5 TRANS12 TRANSORDER_T70 5 TRANS1 0 0 0 0 0 
17 18 ZSFDC_LOAD_WHTX_ds27 SFDC W/H Tfr Load - Updates20 ZSFDC_LOAD_WHTX_dotx73 89 0 0 0 0 0 99999 
57 20 Internal Development1 
58 1 18 ZSFDC_LOAD_WHTX_ds73 
59 18 ZSFDC_LOAD_WHTX_ds73 1 111 DOCUMENTS_T70 0 
60 18 ZSFDC_LOAD_WHTX_ds73 5 DOCNO11 DOCUMENTS_T70 5 DOCNO1 0 0 0 0 0 
60 18 ZSFDC_LOAD_WHTX_ds73 7 STATDES11 DOCUMENTS_T70 7 STATDES2 0 0 0 0 0 
18 15 ZSFDC_LOAD_WHTX1 
56 15 ZSFDC_LOAD_WHTX28 SFDC W/H Tfr Load - Barcodes0 
19 15 ZSFDC_LOAD_WHTX1 4 LINE3 INT8 8 11 Line Number
33 15 ZSFDC_LOAD_WHTX4 LINE0 48 
19 15 ZSFDC_LOAD_WHTX2 10 RECORDTYPE4 CHAR3 3 11 Record Type
19 15 ZSFDC_LOAD_WHTX3 6 LOADED4 CHAR1 1 8 Loaded ?
19 15 ZSFDC_LOAD_WHTX4 4 KEY14 CHAR20 20 5 Key 1
19 15 ZSFDC_LOAD_WHTX5 4 KEY24 CHAR20 20 5 Key 2
19 15 ZSFDC_LOAD_WHTX6 4 KEY34 CHAR20 20 5 Key 3
19 15 ZSFDC_LOAD_WHTX7 7 CURDATE4 DATE8 8 16 Transaction Date
19 15 ZSFDC_LOAD_WHTX8 5 DOCNO4 CHAR16 16 8 Document
19 15 ZSFDC_LOAD_WHTX9 5 TRANS3 INT13 8 16 Transaction (ID)
33 15 ZSFDC_LOAD_WHTX5 TRANS0 48 
19 15 ZSFDC_LOAD_WHTX10 9 IDENTICAL4 CHAR1 1 14 As per request
19 15 ZSFDC_LOAD_WHTX11 4 FLAG4 CHAR1 1 12 In this pass
19 15 ZSFDC_LOAD_WHTX12 9 WARHSNAME4 CHAR10 10 14 From Warehouse
19 15 ZSFDC_LOAD_WHTX13 7 LOCNAME4 CHAR10 10 16 Default From Bin
19 15 ZSFDC_LOAD_WHTX14 11 TOWARHSNAME4 CHAR10 10 12 To Warehouse
19 15 ZSFDC_LOAD_WHTX15 10 TOLOCATION4 CHAR10 10 14 Default To Bin
19 15 ZSFDC_LOAD_WHTX16 7 STATDES4 CHAR12 12 6 Status
19 15 ZSFDC_LOAD_WHTX17 10 OWNERLOGIN4 CHAR20 20 4 User
19 15 ZSFDC_LOAD_WHTX18 8 PARTNAME4 CHAR30 30 9 Part Name
19 15 ZSFDC_LOAD_WHTX19 6 TQUANT3 INT15 8 15 Transaction Qty
33 15 ZSFDC_LOAD_WHTX6 TQUANT3 51 
19 15 ZSFDC_LOAD_WHTX20 7 STATUS14 CHAR16 16 11 From Status
19 15 ZSFDC_LOAD_WHTX21 8 LOCNAME14 CHAR10 10 8 From Bin
19 15 ZSFDC_LOAD_WHTX22 9 TOLOCNAME4 CHAR10 10 6 To Bin
19 15 ZSFDC_LOAD_WHTX23 8 TOSTATUS4 CHAR16 16 9 To Status
19 15 ZSFDC_LOAD_WHTX24 10 WARHSNAME14 CHAR10 10 18 From Warehouse rt2
19 15 ZSFDC_LOAD_WHTX25 12 TOWARHSNAME24 CHAR10 10 16 To Warehouse rt2
20 15 ZSFDC_LOAD_WHTX85 1 
21 15 ZSFDC_LOAD_WHTX1 4 LINE1 
17 15 ZSFDC_LOAD_WHTX28 SFDC W/H Tfr Load - Barcodes15 ZSFDC_LOAD_WHTX73 89 0 0 0 0 0 10000 
57 20 Internal Development1 
58 1 15 ZSFDC_LOAD_WHTX73 
59 15 ZSFDC_LOAD_WHTX73 1 111 DOCUMENTS_T70 0 
59 15 ZSFDC_LOAD_WHTX73 1 212 TRANSORDER_T70 0 
60 15 ZSFDC_LOAD_WHTX73 7 CURDATE11 DOCUMENTS_T70 7 CURDATE8 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 7 LOCNAME11 DOCUMENTS_T70 7 LOCNAME3 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 8 LOCNAME112 TRANSORDER_T70 7 LOCNAME4 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 10 OWNERLOGIN11 DOCUMENTS_T70 10 OWNERLOGIN7 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 8 PARTNAME12 TRANSORDER_T70 8 PARTNAME1 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 7 STATDES11 DOCUMENTS_T70 7 STATDES6 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 7 STATUS112 TRANSORDER_T70 8 CUSTNAME3 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 10 TOLOCATION11 DOCUMENTS_T70 9 TOLOCNAME5 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 9 TOLOCNAME12 TRANSORDER_T70 9 TOLOCNAME5 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 8 TOSTATUS12 TRANSORDER_T70 10 TOCUSTNAME6 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 11 TOWARHSNAME11 DOCUMENTS_T70 11 TOWARHSNAME4 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 6 TQUANT12 TRANSORDER_T70 6 TQUANT2 0 0 0 0 0 
60 15 ZSFDC_LOAD_WHTX73 9 WARHSNAME11 DOCUMENTS_T70 9 WARHSNAME2 0 0 0 0 0 
18 17 ZSFDC_LOAD_GRV_hd1 
56 17 ZSFDC_LOAD_GRV_hd26 SFDC GRV header Load Table0 
19 17 ZSFDC_LOAD_GRV_hd1 4 LINE3 INT8 8 11 Line Number
33 17 ZSFDC_LOAD_GRV_hd4 LINE0 48 
19 17 ZSFDC_LOAD_GRV_hd2 10 RECORDTYPE4 CHAR3 3 11 Record Type
19 17 ZSFDC_LOAD_GRV_hd3 6 LOADED4 CHAR1 1 8 Loaded ?
19 17 ZSFDC_LOAD_GRV_hd4 4 KEY14 CHAR20 20 5 Key 1
19 17 ZSFDC_LOAD_GRV_hd5 4 KEY24 CHAR20 20 5 Key 2
19 17 ZSFDC_LOAD_GRV_hd6 4 KEY34 CHAR20 20 5 Key 3
19 17 ZSFDC_LOAD_GRV_hd7 7 CURDATE4 DATE8 8 16 Transaction Date
19 17 ZSFDC_LOAD_GRV_hd8 7 ORDNAME4 CHAR16 16 18 Purchase Order No.
19 17 ZSFDC_LOAD_GRV_hd9 11 TOWARHSNAME4 CHAR4 4 19 Receiving Warehouse
19 17 ZSFDC_LOAD_GRV_hd10 9 TOLOCNAME4 CHAR16 16 18 Receiving Location
19 17 ZSFDC_LOAD_GRV_hd11 8 PARTNAME4 CHAR30 30 11 Part Number
19 17 ZSFDC_LOAD_GRV_hd12 6 TQUANT3 INT17 8 16 Receipt Quantity
33 17 ZSFDC_LOAD_GRV_hd6 TQUANT3 51 
19 17 ZSFDC_LOAD_GRV_hd13 6 STATUS4 CHAR16 16 18 Transaction Status
19 17 ZSFDC_LOAD_GRV_hd14 7 STATDES4 CHAR12 12 6 Status
19 17 ZSFDC_LOAD_GRV_hd15 7 BOOKNUM4 CHAR16 16 15 Vendor Document
19 17 ZSFDC_LOAD_GRV_hd16 4 ORDI3 INT13 8 4 ORDI
33 17 ZSFDC_LOAD_GRV_hd4 ORDI0 48 
19 17 ZSFDC_LOAD_GRV_hd17 9 USERLOGIN4 CHAR20 20 9 USERLOGIN
19 17 ZSFDC_LOAD_GRV_hd18 8 ORDNAME14 CHAR16 16 18 PO Number for line
19 17 ZSFDC_LOAD_GRV_hd19 7 SUPNAME4 CHAR32 32 13 Supplier Name
20 17 ZSFDC_LOAD_GRV_hd85 1 
21 17 ZSFDC_LOAD_GRV_hd1 4 LINE1 
17 17 ZSFDC_LOAD_GRV_hd26 SFDC GRV header Load Table17 ZSFDC_LOAD_GRV_hd73 89 0 0 0 0 0 10000 
57 20 Internal Development1 
58 1 17 ZSFDC_LOAD_GRV_hd73 
59 17 ZSFDC_LOAD_GRV_hd73 1 111 DOCUMENTS_P70 0 
59 17 ZSFDC_LOAD_GRV_hd73 1 27 DOCPORD70 0 
60 17 ZSFDC_LOAD_GRV_hd73 7 CURDATE11 DOCUMENTS_P70 7 CURDATE3 0 0 0 0 0 
60 17 ZSFDC_LOAD_GRV_hd73 7 ORDNAME11 DOCUMENTS_P70 7 ORDNAME4 0 0 0 0 0 
60 17 ZSFDC_LOAD_GRV_hd73 8 ORDNAME17 DOCPORD70 7 ORDNAME1 0 0 0 0 0 
60 17 ZSFDC_LOAD_GRV_hd73 7 SUPNAME11 DOCUMENTS_P70 7 SUPNAME6 0 0 0 0 0 
60 17 ZSFDC_LOAD_GRV_hd73 9 TOLOCNAME11 DOCUMENTS_P70 9 TOLOCNAME2 0 0 0 0 0 
60 17 ZSFDC_LOAD_GRV_hd73 11 TOWARHSNAME11 DOCUMENTS_P70 11 TOWARHSNAME1 0 0 0 0 0 
60 17 ZSFDC_LOAD_GRV_hd73 9 USERLOGIN11 DOCUMENTS_P70 10 OWNERLOGIN5 0 0 0 0 0 
18 14 ZSFDC_LOAD_GRV1 
56 14 ZSFDC_LOAD_GRV19 SFDC Grv Load Table0 
19 14 ZSFDC_LOAD_GRV1 4 LINE3 INT8 8 11 Line Number
33 14 ZSFDC_LOAD_GRV4 LINE0 48 
19 14 ZSFDC_LOAD_GRV2 10 RECORDTYPE4 CHAR3 3 11 Record Type
19 14 ZSFDC_LOAD_GRV3 6 LOADED4 CHAR1 1 8 Loaded ?
19 14 ZSFDC_LOAD_GRV4 4 KEY14 CHAR20 20 5 Key 1
19 14 ZSFDC_LOAD_GRV5 4 KEY24 CHAR20 20 5 Key 2
19 14 ZSFDC_LOAD_GRV6 4 KEY34 CHAR20 20 5 Key 3
19 14 ZSFDC_LOAD_GRV7 7 CURDATE4 DATE8 8 16 Transaction Date
19 14 ZSFDC_LOAD_GRV8 7 ORDNAME4 CHAR16 16 18 Purchase Order No.
19 14 ZSFDC_LOAD_GRV9 11 TOWARHSNAME4 CHAR4 4 19 Receiving Warehouse
19 14 ZSFDC_LOAD_GRV10 9 TOLOCNAME4 CHAR16 16 18 Receiving Location
19 14 ZSFDC_LOAD_GRV11 8 PARTNAME4 CHAR30 30 11 Part Number
19 14 ZSFDC_LOAD_GRV12 6 TQUANT3 INT17 8 16 Receipt Quantity
33 14 ZSFDC_LOAD_GRV6 TQUANT3 51 
19 14 ZSFDC_LOAD_GRV13 6 STATUS4 CHAR16 16 18 Transaction Status
19 14 ZSFDC_LOAD_GRV14 7 STATDES4 CHAR12 12 6 Status
19 14 ZSFDC_LOAD_GRV15 7 BOOKNUM4 CHAR16 16 15 Vendor Document
19 14 ZSFDC_LOAD_GRV16 4 ORDI3 INT13 8 4 ORDI
33 14 ZSFDC_LOAD_GRV4 ORDI0 48 
19 14 ZSFDC_LOAD_GRV17 9 USERLOGIN4 CHAR20 20 9 USERLOGIN
19 14 ZSFDC_LOAD_GRV18 8 ORDNAME14 CHAR16 16 18 PO Number for line
19 14 ZSFDC_LOAD_GRV19 7 SUPNAME4 CHAR32 32 13 Supplier Name
20 14 ZSFDC_LOAD_GRV85 1 
21 14 ZSFDC_LOAD_GRV1 4 LINE1 
17 14 ZSFDC_LOAD_GRV19 SFDC Grv Load Table14 ZSFDC_LOAD_GRV73 89 0 0 0 0 0 10000 
57 20 Internal Development1 
58 1 14 ZSFDC_LOAD_GRV73 
59 14 ZSFDC_LOAD_GRV73 1 111 DOCUMENTS_P70 0 
59 14 ZSFDC_LOAD_GRV73 1 212 TRANSORDER_P70 0 
60 14 ZSFDC_LOAD_GRV73 7 BOOKNUM11 DOCUMENTS_P70 7 BOOKNUM3 0 0 0 0 0 
60 14 ZSFDC_LOAD_GRV73 7 CURDATE11 DOCUMENTS_P70 7 CURDATE1 0 0 0 0 0 
60 14 ZSFDC_LOAD_GRV73 8 ORDNAME112 TRANSORDER_P70 7 ORDNAME7 0 0 0 0 0 
60 14 ZSFDC_LOAD_GRV73 8 PARTNAME12 TRANSORDER_P70 8 PARTNAME1 0 0 0 0 0 
60 14 ZSFDC_LOAD_GRV73 6 STATUS12 TRANSORDER_P70 8 CUSTNAME5 0 0 0 0 0 
60 14 ZSFDC_LOAD_GRV73 9 TOLOCNAME12 TRANSORDER_P70 9 TOLOCNAME3 0 0 0 0 0 
60 14 ZSFDC_LOAD_GRV73 11 TOWARHSNAME12 TRANSORDER_P70 11 TOWARHSNAME2 0 0 0 0 0 
60 14 ZSFDC_LOAD_GRV73 6 TQUANT12 TRANSORDER_P70 6 TQUANT6 0 0 0 0 0 
60 14 ZSFDC_LOAD_GRV73 9 USERLOGIN11 DOCUMENTS_P70 10 OWNERLOGIN4 0 0 0 0 0 
17 15 ZSFDC_GRV_FINAL12 Finalise GRV14 ZSFDC_LOAD_GRV73 89 0 0 0 0 0 10000 
57 20 Internal Development1 
58 1 15 ZSFDC_GRV_FINAL73 
59 15 ZSFDC_GRV_FINAL73 1 111 DOCUMENTS_P70 0 
60 15 ZSFDC_GRV_FINAL73 4 ORDI11 DOCUMENTS_P70 3 DOC1 0 0 0 0 0 
60 15 ZSFDC_GRV_FINAL73 7 STATDES11 DOCUMENTS_P70 7 STATDES2 0 0 0 0 0 
17 16 ZSFDCP_LOAD_WHTX27 Load W/H Tfrs From Barcodes0 80 0 0 0 0 4 SFDC0 0 
57 20 Internal Development1 
58 1 16 ZSFDCP_LOAD_WHTX80 
7 16 ZSFDCP_LOAD_WHTX80 5 4 SQLI67 
28 16 ZSFDCP_LOAD_WHTX80 5 10 :MULT = 1;1 1 
28 16 ZSFDCP_LOAD_WHTX80 5 10 :ITER = 0;2 2 
28 16 ZSFDCP_LOAD_WHTX80 5 11 :VALUE = 0;3 3 
28 16 ZSFDCP_LOAD_WHTX80 5 39 /* Set the Transaction Date to Today */4 4 
28 16 ZSFDCP_LOAD_WHTX80 5 22 UPDATE ZSFDC_LOAD_WHTX5 5 
28 16 ZSFDCP_LOAD_WHTX80 5 23 SET CURDATE = SQL.DATE86 6 
28 16 ZSFDCP_LOAD_WHTX80 5 19 WHERE LOADED <> 'Y'7 7 
28 16 ZSFDCP_LOAD_WHTX80 5 13 AND LINE > 0;8 8 
28 16 ZSFDCP_LOAD_WHTX80 5 4 /**/9 9 
28 16 ZSFDCP_LOAD_WHTX80 5 47 /* Set the Quantity to the Correct Precision */10 10 
28 16 ZSFDCP_LOAD_WHTX80 5 24 SELECT VALUE INTO :VALUE11 11 
28 16 ZSFDCP_LOAD_WHTX80 5 13 FROM SYSCONST12 12 
28 16 ZSFDCP_LOAD_WHTX80 5 23 WHERE NAME = 'DECIMAL';13 13 
28 16 ZSFDCP_LOAD_WHTX80 5 10 LABEL 800;14 14 
28 16 ZSFDCP_LOAD_WHTX80 5 30 GOTO 900 WHERE :ITER = :VALUE;15 15 
28 16 ZSFDCP_LOAD_WHTX80 5 19 :MULT = :MULT * 10;16 16 
28 16 ZSFDCP_LOAD_WHTX80 5 18 :ITER = :ITER + 1;17 17 
28 16 ZSFDCP_LOAD_WHTX80 5 9 LOOP 800;18 18 
28 16 ZSFDCP_LOAD_WHTX80 5 10 LABEL 900;19 19 
28 16 ZSFDCP_LOAD_WHTX80 5 22 UPDATE ZSFDC_LOAD_WHTX20 20 
28 16 ZSFDCP_LOAD_WHTX80 5 27 SET TQUANT = TQUANT * :MULT21 21 
28 16 ZSFDCP_LOAD_WHTX80 5 19 WHERE LOADED <> 'Y'22 22 
28 16 ZSFDCP_LOAD_WHTX80 5 20 AND RECORDTYPE > '1'23 23 
28 16 ZSFDCP_LOAD_WHTX80 5 13 AND LINE > 0;24 24 
28 16 ZSFDCP_LOAD_WHTX80 5 4 /**/25 25 
28 16 ZSFDCP_LOAD_WHTX80 5 32 INSERT INTO ZSFDC_LOAD_WHTX_dotx26 26 
28 16 ZSFDCP_LOAD_WHTX80 5 29 SELECT * FROM ZSFDC_LOAD_WHTX27 27 
28 16 ZSFDCP_LOAD_WHTX80 5 40 WHERE (RECORDTYPE = '1' AND DOCNO <> '')28 28 
28 16 ZSFDCP_LOAD_WHTX80 5 36 OR (RECORDTYPE = '2' AND TRANS <> 0)29 29 
28 16 ZSFDCP_LOAD_WHTX80 5 1 ;30 30 
28 16 ZSFDCP_LOAD_WHTX80 5 27 DELETE FROM ZSFDC_LOAD_WHTX31 31 
28 16 ZSFDCP_LOAD_WHTX80 5 40 WHERE (RECORDTYPE = '1' AND DOCNO <> '')32 32 
28 16 ZSFDCP_LOAD_WHTX80 5 36 OR (RECORDTYPE = '2' AND TRANS <> 0)33 33 
28 16 ZSFDCP_LOAD_WHTX80 5 1 ;34 34 
28 16 ZSFDCP_LOAD_WHTX80 5 4 /**/35 35 
7 16 ZSFDCP_LOAD_WHTX80 10 4 SQLI67 
28 16 ZSFDCP_LOAD_WHTX80 10 43 UPDATE ZSFDC_LOAD_WHTX_dotx SET FLAG = 'Y';1 1 
28 16 ZSFDCP_LOAD_WHTX80 10 65 :DOCNO = :STATDES = :PARTNAME = :WARHS = :LOC = :RECORDTYPE = '';2 2 
28 16 ZSFDCP_LOAD_WHTX80 10 29 :TRANS = :LINE = :TQUANT = 0;3 3 
28 16 ZSFDCP_LOAD_WHTX80 10 4 /**/4 4 
28 16 ZSFDCP_LOAD_WHTX80 10 20 DECLARE C CURSOR FOR5 5 
28 16 ZSFDCP_LOAD_WHTX80 10 47 SELECT LINE, RECORDTYPE, TRANS, DOCNO, STATDES,6 6 
28 16 ZSFDCP_LOAD_WHTX80 10 38 PARTNAME, WARHSNAME1, LOCNAME1, TQUANT7 7 
28 16 ZSFDCP_LOAD_WHTX80 10 25 FROM ZSFDC_LOAD_WHTX_dotx8 8 
28 16 ZSFDCP_LOAD_WHTX80 10 20 WHERE LOADED <> 'Y';9 9 
28 16 ZSFDCP_LOAD_WHTX80 10 7 OPEN C;10 10 
28 16 ZSFDCP_LOAD_WHTX80 10 9 LABEL 10;11 11 
28 16 ZSFDCP_LOAD_WHTX80 10 48 FETCH C INTO :LINE, :RECORDTYPE, :TRANS, :DOCNO,12 12 
28 16 ZSFDCP_LOAD_WHTX80 10 43 :STATDES, :PARTNAME, :WARHS, :LOC, :TQUANT;13 13 
28 16 ZSFDCP_LOAD_WHTX80 10 28 GOTO 100 WHERE :RETVAL <= 0;14 14 
28 16 ZSFDCP_LOAD_WHTX80 10 35 GOSUB 1000 WHERE :RECORDTYPE = '2';15 15 
28 16 ZSFDCP_LOAD_WHTX80 10 8 LOOP 10;16 16 
28 16 ZSFDCP_LOAD_WHTX80 10 10 LABEL 100;17 17 
28 16 ZSFDCP_LOAD_WHTX80 10 8 CLOSE C;18 18 
28 16 ZSFDCP_LOAD_WHTX80 10 55 DELETE FROM ZSFDC_LOAD_WHTX_dotx WHERE IDENTICAL = 'Y';19 19 
28 16 ZSFDCP_LOAD_WHTX80 10 4 /**/20 20 
28 16 ZSFDCP_LOAD_WHTX80 10 9 SUB 1000;21 21 
28 16 ZSFDCP_LOAD_WHTX80 10 30 :TPART = :TWARHS = :TLOC = '';22 22 
28 16 ZSFDCP_LOAD_WHTX80 10 13 :TTQUANT = 0;23 23 
28 16 ZSFDCP_LOAD_WHTX80 10 4 /**/24 24 
28 16 ZSFDCP_LOAD_WHTX80 10 21 SELECT PART.PARTNAME,25 25 
28 16 ZSFDCP_LOAD_WHTX80 10 21 WAREHOUSES.WARHSNAME,26 26 
28 16 ZSFDCP_LOAD_WHTX80 10 20 WAREHOUSES.LOCNAME ,27 27 
28 16 ZSFDCP_LOAD_WHTX80 10 6 TQUANT28 28 
28 16 ZSFDCP_LOAD_WHTX80 10 37 INTO :TPART, :TWARHS, :TLOC, :TTQUANT29 29 
28 16 ZSFDCP_LOAD_WHTX80 10 33 FROM TRANSORDER, PART, WAREHOUSES30 30 
28 16 ZSFDCP_LOAD_WHTX80 10 33 WHERE TRANSORDER.PART = PART.PART31 31 
28 16 ZSFDCP_LOAD_WHTX80 10 39 AND TRANSORDER.WARHS = WAREHOUSES.WARHS32 32 
28 16 ZSFDCP_LOAD_WHTX80 10 19 AND TRANS = :TRANS;33 33 
28 16 ZSFDCP_LOAD_WHTX80 10 4 /**/34 34 
28 16 ZSFDCP_LOAD_WHTX80 10 34 GOTO 1500 WHERE :PARTNAME = :TPART35 35 
28 16 ZSFDCP_LOAD_WHTX80 10 20 AND :TWARHS = :WARHS36 36 
28 16 ZSFDCP_LOAD_WHTX80 10 16 AND :TLOC = :LOC37 37 
28 16 ZSFDCP_LOAD_WHTX80 10 23 AND :TTQUANT = :TQUANT;38 38 
28 16 ZSFDCP_LOAD_WHTX80 10 4 /**/39 39 
28 16 ZSFDCP_LOAD_WHTX80 10 10 GOTO 1999;40 40 
28 16 ZSFDCP_LOAD_WHTX80 10 11 LABEL 1500;41 41 
28 16 ZSFDCP_LOAD_WHTX80 10 24 /* Identical - remove */42 42 
28 16 ZSFDCP_LOAD_WHTX80 10 67 UPDATE ZSFDC_LOAD_WHTX_dotx SET IDENTICAL = 'Y' WHERE LINE = :LINE;43 43 
28 16 ZSFDCP_LOAD_WHTX80 10 11 LABEL 1999;44 44 
28 16 ZSFDCP_LOAD_WHTX80 10 7 RETURN;45 45 
7 16 ZSFDCP_LOAD_WHTX80 12 20 ZSFDC_LOAD_WHTX_dotx73 
7 16 ZSFDCP_LOAD_WHTX80 14 4 SQLI67 
28 16 ZSFDCP_LOAD_WHTX80 14 27 UPDATE ZSFDC_LOAD_WHTX_dotx5 1 
28 16 ZSFDCP_LOAD_WHTX80 14 34 SET LOADED = '', STATDES = 'Final'6 2 
28 16 ZSFDCP_LOAD_WHTX80 14 22 WHERE RECORDTYPE = '1'7 3 
28 16 ZSFDCP_LOAD_WHTX80 14 1 ;8 4 
7 16 ZSFDCP_LOAD_WHTX80 16 18 ZSFDC_LOAD_WHTX_ds73 
7 16 ZSFDCP_LOAD_WHTX80 18 4 SQLI67 
28 16 ZSFDCP_LOAD_WHTX80 18 33 :ID = :LINE = :NOLD = :FIRST = 0;1 1 
28 16 ZSFDCP_LOAD_WHTX80 18 19 :LOADED = :RT = '';2 2 
28 16 ZSFDCP_LOAD_WHTX80 18 32 /* ITERATE THROUGH LOAD TABLE */3 3 
28 16 ZSFDCP_LOAD_WHTX80 18 21 DECLARE C2 CURSOR FOR4 4 
28 16 ZSFDCP_LOAD_WHTX80 18 36 SELECT RECORDTYPE, LINE, LOADED FROM5 5 
28 16 ZSFDCP_LOAD_WHTX80 18 41 /********************** LOAD TABLE NAME*/6 6 
28 16 ZSFDCP_LOAD_WHTX80 18 20 ZSFDC_LOAD_WHTX_dotx7 7 
28 16 ZSFDCP_LOAD_WHTX80 18 41 /***************************************/8 8 
28 16 ZSFDCP_LOAD_WHTX80 18 15 WHERE LINE > 0;9 9 
28 16 ZSFDCP_LOAD_WHTX80 18 8 OPEN C2;10 10 
28 16 ZSFDCP_LOAD_WHTX80 18 9 LABEL 10;11 11 
28 16 ZSFDCP_LOAD_WHTX80 18 34 FETCH C2 INTO :RT, :LINE, :LOADED;12 12 
28 16 ZSFDCP_LOAD_WHTX80 18 26 GOTO 20 WHERE :RETVAL = 0;13 13 
28 16 ZSFDCP_LOAD_WHTX80 18 52 SELECT 1 INTO :NOLD FROM DUMMY WHERE :LOADED <> 'Y';14 14 
28 16 ZSFDCP_LOAD_WHTX80 18 39 GOTO 15 WHERE :RT <> '1' OR :FIRST = 0;15 15 
28 16 ZSFDCP_LOAD_WHTX80 18 19 /* RECORD TYPE 1 */16 16 
28 16 ZSFDCP_LOAD_WHTX80 18 12 /* LOADED */17 17 
28 16 ZSFDCP_LOAD_WHTX80 18 46 GOSUB 300; /* DELETE LOADED FROM LOAD TABLE */18 18 
28 16 ZSFDCP_LOAD_WHTX80 18 36 GOSUB 200; /* CLEAN UP LOADING ID */19 19 
28 16 ZSFDCP_LOAD_WHTX80 18 33 GOSUB 100; /* GET A LOADING ID */20 20 
28 16 ZSFDCP_LOAD_WHTX80 18 9 LABEL 15;21 21 
28 16 ZSFDCP_LOAD_WHTX80 18 63 INSERT INTO ZSFDC_CLEANTABLE (LOADID,LINE) VALUES (:ID, :LINE);22 22 
28 16 ZSFDCP_LOAD_WHTX80 18 32 SELECT 1 INTO :FIRST FROM DUMMY;23 23 
28 16 ZSFDCP_LOAD_WHTX80 18 8 LOOP 10;24 24 
28 16 ZSFDCP_LOAD_WHTX80 18 9 LABEL 20;25 25 
28 16 ZSFDCP_LOAD_WHTX80 18 9 CLOSE C2;26 26 
28 16 ZSFDCP_LOAD_WHTX80 18 46 GOSUB 300; /* DELETE LOADED FROM LOAD TABLE */27 27 
28 16 ZSFDCP_LOAD_WHTX80 18 36 GOSUB 200; /* CLEAN UP LOADING ID */28 28 
28 16 ZSFDCP_LOAD_WHTX80 18 25 /************************29 29 
28 16 ZSFDCP_LOAD_WHTX80 18 25 ************************/30 30 
28 16 ZSFDCP_LOAD_WHTX80 18 8 SUB 100;31 31 
28 16 ZSFDCP_LOAD_WHTX80 18 22 /* GET A LOADING ID */32 32 
28 16 ZSFDCP_LOAD_WHTX80 18 58 SELECT 0 + MAX(LOADID) + 1 INTO :ID FROM ZSFDC_CLEANTABLE;33 33 
28 16 ZSFDCP_LOAD_WHTX80 18 60 INSERT INTO ZSFDC_CLEANTABLE (LOADID, LINE) VALUES (:ID, 0);34 34 
28 16 ZSFDCP_LOAD_WHTX80 18 7 RETURN;35 35 
28 16 ZSFDCP_LOAD_WHTX80 18 4 /**/36 36 
28 16 ZSFDCP_LOAD_WHTX80 18 8 SUB 200;37 37 
28 16 ZSFDCP_LOAD_WHTX80 18 25 /* CLEAN UP LOADING ID */38 38 
28 16 ZSFDCP_LOAD_WHTX80 18 31 SELECT 0 INTO :NOLD FROM DUMMY;39 39 
28 16 ZSFDCP_LOAD_WHTX80 18 48 DELETE FROM ZSFDC_CLEANTABLE WHERE LOADID = :ID;40 40 
28 16 ZSFDCP_LOAD_WHTX80 18 7 RETURN;41 41 
28 16 ZSFDCP_LOAD_WHTX80 18 8 SUB 300;42 42 
28 16 ZSFDCP_LOAD_WHTX80 18 35 /* DELETE LOADED FROM LOAD TABLE */43 43 
28 16 ZSFDCP_LOAD_WHTX80 18 25 GOTO 310 WHERE :NOLD = 1;44 44 
28 16 ZSFDCP_LOAD_WHTX80 18 11 DELETE FROM45 45 
28 16 ZSFDCP_LOAD_WHTX80 18 41 /********************** LOAD TABLE NAME*/46 46 
28 16 ZSFDCP_LOAD_WHTX80 18 20 ZSFDC_LOAD_WHTX_dotx47 47 
28 16 ZSFDCP_LOAD_WHTX80 18 41 /***************************************/48 48 
28 16 ZSFDCP_LOAD_WHTX80 18 13 WHERE LINE IN49 49 
28 16 ZSFDCP_LOAD_WHTX80 18 1 (50 50 
28 16 ZSFDCP_LOAD_WHTX80 18 33 SELECT LINE FROM ZSFDC_CLEANTABLE51 51 
28 16 ZSFDCP_LOAD_WHTX80 18 18 WHERE LOADID = :ID52 52 
28 16 ZSFDCP_LOAD_WHTX80 18 12 AND LINE > 053 53 
28 16 ZSFDCP_LOAD_WHTX80 18 2 );54 54 
28 16 ZSFDCP_LOAD_WHTX80 18 10 LABEL 310;55 55 
28 16 ZSFDCP_LOAD_WHTX80 18 7 RETURN;56 56 
7 16 ZSFDCP_LOAD_WHTX80 19 15 ZSFDC_LOAD_WHTX73 
7 16 ZSFDCP_LOAD_WHTX80 20 4 SQLI67 
28 16 ZSFDCP_LOAD_WHTX80 20 52 /* Check every line in a document is processed OK */1 1 
28 16 ZSFDCP_LOAD_WHTX80 20 16 :TOUPDATE = 'N';2 2 
28 16 ZSFDCP_LOAD_WHTX80 20 14 :HEADLINE = 0;3 3 
28 16 ZSFDCP_LOAD_WHTX80 20 5 /***/4 4 
28 16 ZSFDCP_LOAD_WHTX80 20 25 DECLARE C_LOAD CURSOR FOR5 5 
28 16 ZSFDCP_LOAD_WHTX80 20 40 SELECT LINE, RECORDTYPE, LOADED, STATDES6 6 
28 16 ZSFDCP_LOAD_WHTX80 20 20 FROM ZSFDC_LOAD_WHTX7 7 
28 16 ZSFDCP_LOAD_WHTX80 20 16 WHERE LINE <> 0;8 8 
28 16 ZSFDCP_LOAD_WHTX80 20 12 OPEN C_LOAD;9 9 
28 16 ZSFDCP_LOAD_WHTX80 20 38 GOTO 9999 WHERE :RETVAL = 0; /* NRF */10 10 
28 16 ZSFDCP_LOAD_WHTX80 20 5 /***/11 11 
28 16 ZSFDCP_LOAD_WHTX80 20 32 LABEL 9000; /* Fetch Next Row */12 12 
28 16 ZSFDCP_LOAD_WHTX80 20 5 /***/13 13 
28 16 ZSFDCP_LOAD_WHTX80 20 56 FETCH C_LOAD INTO :LINE, :RECORDTYPE, :LOADED, :STATDES;14 14 
28 16 ZSFDCP_LOAD_WHTX80 20 38 GOTO 9998 WHERE :RETVAL = 0; /* EOF */15 15 
28 16 ZSFDCP_LOAD_WHTX80 20 5 /***/16 16 
28 16 ZSFDCP_LOAD_WHTX80 20 45 GOTO 9997 WHERE :RECORDTYPE > '1'; /* Line */17 17 
28 16 ZSFDCP_LOAD_WHTX80 20 5 /***/18 18 
28 16 ZSFDCP_LOAD_WHTX80 20 27 /* Check Previous Header */19 19 
28 16 ZSFDCP_LOAD_WHTX80 20 45 GOTO 9996 WHERE :HEADLINE = 0; /* 1st Time */20 20 
28 16 ZSFDCP_LOAD_WHTX80 20 46 GOTO 9996 WHERE :TOUPDATE = 'N'; /* No Good */21 21 
28 16 ZSFDCP_LOAD_WHTX80 20 29 /* Process Previous Header */22 22 
28 16 ZSFDCP_LOAD_WHTX80 20 22 UPDATE ZSFDC_LOAD_WHTX23 23 
28 16 ZSFDCP_LOAD_WHTX80 20 35 SET LOADED = ' ', STATDES = 'Final'24 24 
28 16 ZSFDCP_LOAD_WHTX80 20 23 WHERE LINE = :HEADLINE;25 25 
28 16 ZSFDCP_LOAD_WHTX80 20 15 /* No Update */26 26 
28 16 ZSFDCP_LOAD_WHTX80 20 11 LABEL 9996;27 27 
28 16 ZSFDCP_LOAD_WHTX80 20 18 :HEADLINE = :LINE;28 28 
28 16 ZSFDCP_LOAD_WHTX80 20 16 :TOUPDATE = 'Y';29 29 
28 16 ZSFDCP_LOAD_WHTX80 20 31 LOOP 9000; /* Fetch Next Row */30 30 
28 16 ZSFDCP_LOAD_WHTX80 20 5 /***/31 31 
28 16 ZSFDCP_LOAD_WHTX80 20 18 /* Process Line */32 32 
28 16 ZSFDCP_LOAD_WHTX80 20 11 LABEL 9997;33 33 
28 16 ZSFDCP_LOAD_WHTX80 20 58 SELECT 'N' INTO :TOUPDATE FROM DUMMY WHERE :LOADED <> 'Y';34 34 
28 16 ZSFDCP_LOAD_WHTX80 20 31 LOOP 9000; /* Fetch Next Row */35 35 
28 16 ZSFDCP_LOAD_WHTX80 20 5 /***/36 36 
28 16 ZSFDCP_LOAD_WHTX80 20 11 LABEL 9998;37 37 
28 16 ZSFDCP_LOAD_WHTX80 20 20 /* EOF Processing */38 38 
28 16 ZSFDCP_LOAD_WHTX80 20 27 /* Check Previous Header */39 39 
28 16 ZSFDCP_LOAD_WHTX80 20 45 GOTO 9999 WHERE :HEADLINE = 0; /* 1st Time */40 40 
28 16 ZSFDCP_LOAD_WHTX80 20 46 GOTO 9999 WHERE :TOUPDATE = 'N'; /* No Good */41 41 
28 16 ZSFDCP_LOAD_WHTX80 20 29 /* Process Previous Header */42 42 
28 16 ZSFDCP_LOAD_WHTX80 20 22 UPDATE ZSFDC_LOAD_WHTX43 43 
28 16 ZSFDCP_LOAD_WHTX80 20 35 SET LOADED = ' ', STATDES = 'Final'44 44 
28 16 ZSFDCP_LOAD_WHTX80 20 23 WHERE LINE = :HEADLINE;45 45 
28 16 ZSFDCP_LOAD_WHTX80 20 5 /***/46 46 
28 16 ZSFDCP_LOAD_WHTX80 20 11 LABEL 9999;47 47 
28 16 ZSFDCP_LOAD_WHTX80 20 4 /**/48 48 
7 16 ZSFDCP_LOAD_WHTX80 30 15 ZSFDC_LOAD_WHTX73 
7 16 ZSFDCP_LOAD_WHTX80 40 4 SQLI67 
28 16 ZSFDCP_LOAD_WHTX80 40 33 :ID = :LINE = :NOLD = :FIRST = 0;1 1 
28 16 ZSFDCP_LOAD_WHTX80 40 19 :LOADED = :RT = '';2 2 
28 16 ZSFDCP_LOAD_WHTX80 40 32 /* ITERATE THROUGH LOAD TABLE */3 3 
28 16 ZSFDCP_LOAD_WHTX80 40 21 DECLARE C3 CURSOR FOR4 4 
28 16 ZSFDCP_LOAD_WHTX80 40 36 SELECT RECORDTYPE, LINE, LOADED FROM5 5 
28 16 ZSFDCP_LOAD_WHTX80 40 41 /********************** LOAD TABLE NAME*/6 6 
28 16 ZSFDCP_LOAD_WHTX80 40 15 ZSFDC_LOAD_WHTX7 7 
28 16 ZSFDCP_LOAD_WHTX80 40 41 /***************************************/8 8 
28 16 ZSFDCP_LOAD_WHTX80 40 15 WHERE LINE > 0;9 9 
28 16 ZSFDCP_LOAD_WHTX80 40 8 OPEN C3;10 10 
28 16 ZSFDCP_LOAD_WHTX80 40 9 LABEL 10;11 11 
28 16 ZSFDCP_LOAD_WHTX80 40 34 FETCH C3 INTO :RT, :LINE, :LOADED;12 12 
28 16 ZSFDCP_LOAD_WHTX80 40 26 GOTO 20 WHERE :RETVAL = 0;13 13 
28 16 ZSFDCP_LOAD_WHTX80 40 52 SELECT 1 INTO :NOLD FROM DUMMY WHERE :LOADED <> 'Y';14 14 
28 16 ZSFDCP_LOAD_WHTX80 40 39 GOTO 15 WHERE :RT <> '1' OR :FIRST = 0;15 15 
28 16 ZSFDCP_LOAD_WHTX80 40 19 /* RECORD TYPE 1 */16 16 
28 16 ZSFDCP_LOAD_WHTX80 40 12 /* LOADED */17 17 
28 16 ZSFDCP_LOAD_WHTX80 40 46 GOSUB 300; /* DELETE LOADED FROM LOAD TABLE */18 18 
28 16 ZSFDCP_LOAD_WHTX80 40 36 GOSUB 200; /* CLEAN UP LOADING ID */19 19 
28 16 ZSFDCP_LOAD_WHTX80 40 33 GOSUB 100; /* GET A LOADING ID */20 20 
28 16 ZSFDCP_LOAD_WHTX80 40 9 LABEL 15;21 21 
28 16 ZSFDCP_LOAD_WHTX80 40 63 INSERT INTO ZSFDC_CLEANTABLE (LOADID,LINE) VALUES (:ID, :LINE);22 22 
28 16 ZSFDCP_LOAD_WHTX80 40 32 SELECT 1 INTO :FIRST FROM DUMMY;23 23 
28 16 ZSFDCP_LOAD_WHTX80 40 8 LOOP 10;24 24 
28 16 ZSFDCP_LOAD_WHTX80 40 9 LABEL 20;25 25 
28 16 ZSFDCP_LOAD_WHTX80 40 9 CLOSE C3;26 26 
28 16 ZSFDCP_LOAD_WHTX80 40 46 GOSUB 300; /* DELETE LOADED FROM LOAD TABLE */27 27 
28 16 ZSFDCP_LOAD_WHTX80 40 36 GOSUB 200; /* CLEAN UP LOADING ID */28 28 
28 16 ZSFDCP_LOAD_WHTX80 40 25 /************************29 29 
28 16 ZSFDCP_LOAD_WHTX80 40 25 ************************/30 30 
28 16 ZSFDCP_LOAD_WHTX80 40 8 SUB 100;31 31 
28 16 ZSFDCP_LOAD_WHTX80 40 22 /* GET A LOADING ID */32 32 
28 16 ZSFDCP_LOAD_WHTX80 40 58 SELECT 0 + MAX(LOADID) + 1 INTO :ID FROM ZSFDC_CLEANTABLE;33 33 
28 16 ZSFDCP_LOAD_WHTX80 40 60 INSERT INTO ZSFDC_CLEANTABLE (LOADID, LINE) VALUES (:ID, 0);34 34 
28 16 ZSFDCP_LOAD_WHTX80 40 7 RETURN;35 35 
28 16 ZSFDCP_LOAD_WHTX80 40 4 /**/36 36 
28 16 ZSFDCP_LOAD_WHTX80 40 8 SUB 200;37 37 
28 16 ZSFDCP_LOAD_WHTX80 40 25 /* CLEAN UP LOADING ID */38 38 
28 16 ZSFDCP_LOAD_WHTX80 40 31 SELECT 0 INTO :NOLD FROM DUMMY;39 39 
28 16 ZSFDCP_LOAD_WHTX80 40 48 DELETE FROM ZSFDC_CLEANTABLE WHERE LOADID = :ID;40 40 
28 16 ZSFDCP_LOAD_WHTX80 40 7 RETURN;41 41 
28 16 ZSFDCP_LOAD_WHTX80 40 8 SUB 300;42 42 
28 16 ZSFDCP_LOAD_WHTX80 40 35 /* DELETE LOADED FROM LOAD TABLE */43 43 
28 16 ZSFDCP_LOAD_WHTX80 40 25 GOTO 310 WHERE :NOLD = 1;44 44 
28 16 ZSFDCP_LOAD_WHTX80 40 11 DELETE FROM45 45 
28 16 ZSFDCP_LOAD_WHTX80 40 41 /********************** LOAD TABLE NAME*/46 46 
28 16 ZSFDCP_LOAD_WHTX80 40 15 ZSFDC_LOAD_WHTX47 47 
28 16 ZSFDCP_LOAD_WHTX80 40 41 /***************************************/48 48 
28 16 ZSFDCP_LOAD_WHTX80 40 13 WHERE LINE IN49 49 
28 16 ZSFDCP_LOAD_WHTX80 40 1 (50 50 
28 16 ZSFDCP_LOAD_WHTX80 40 33 SELECT LINE FROM ZSFDC_CLEANTABLE51 51 
28 16 ZSFDCP_LOAD_WHTX80 40 18 WHERE LOADID = :ID52 52 
28 16 ZSFDCP_LOAD_WHTX80 40 12 AND LINE > 053 53 
28 16 ZSFDCP_LOAD_WHTX80 40 2 );54 54 
28 16 ZSFDCP_LOAD_WHTX80 40 10 LABEL 310;55 55 
28 16 ZSFDCP_LOAD_WHTX80 40 7 RETURN;56 56 
7 16 ZSFDCP_LOAD_WHTX80 50 4 SQLI67 
28 16 ZSFDCP_LOAD_WHTX80 50 27 INSERT INTO ZSFDC_LOAD_WHTX1 1 
28 16 ZSFDCP_LOAD_WHTX80 50 34 SELECT * FROM ZSFDC_LOAD_WHTX_dotx2 2 
28 16 ZSFDCP_LOAD_WHTX80 50 1 ;5 3 
28 16 ZSFDCP_LOAD_WHTX80 50 32 DELETE FROM ZSFDC_LOAD_WHTX_dotx6 4 
28 16 ZSFDCP_LOAD_WHTX80 50 1 ;7 5 
7 16 ZSFDCP_LOAD_WHTX80 60 3 END66 
17 15 ZSFDCP_LOAD_GRV30 Load SFDC GRVs - Barcode Input0 80 0 0 0 0 4 SFDC0 0 
57 20 Internal Development1 
58 1 15 ZSFDCP_LOAD_GRV80 
7 15 ZSFDCP_LOAD_GRV80 2 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 2 6 SELECT1 1 
28 15 ZSFDCP_LOAD_GRV80 2 9 SQL.DATE,2 2 
28 15 ZSFDCP_LOAD_GRV80 2 8 SQL.USER3 3 
28 15 ZSFDCP_LOAD_GRV80 2 10 FROM DUMMY4 4 
28 15 ZSFDCP_LOAD_GRV80 2 29 FORMAT ADDTO 'C:\ERRORS.TXT';5 5 
7 15 ZSFDCP_LOAD_GRV80 5 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 5 10 :MULT = 1;1 1 
28 15 ZSFDCP_LOAD_GRV80 5 10 :ITER = 0;2 2 
28 15 ZSFDCP_LOAD_GRV80 5 11 :VALUE = 0;3 3 
28 15 ZSFDCP_LOAD_GRV80 5 39 /* Set the Transaction Date to Today */4 4 
28 15 ZSFDCP_LOAD_GRV80 5 21 UPDATE ZSFDC_LOAD_GRV5 5 
28 15 ZSFDCP_LOAD_GRV80 5 23 SET CURDATE = SQL.DATE86 6 
28 15 ZSFDCP_LOAD_GRV80 5 15 WHERE LINE > 0;7 7 
28 15 ZSFDCP_LOAD_GRV80 5 4 /**/8 8 
28 15 ZSFDCP_LOAD_GRV80 5 47 /* Set the Quantity to the Correct Precision */9 9 
28 15 ZSFDCP_LOAD_GRV80 5 24 SELECT VALUE INTO :VALUE10 10 
28 15 ZSFDCP_LOAD_GRV80 5 13 FROM SYSCONST11 11 
28 15 ZSFDCP_LOAD_GRV80 5 23 WHERE NAME = 'DECIMAL';12 12 
28 15 ZSFDCP_LOAD_GRV80 5 10 LABEL 800;13 13 
28 15 ZSFDCP_LOAD_GRV80 5 30 GOTO 900 WHERE :ITER = :VALUE;14 14 
28 15 ZSFDCP_LOAD_GRV80 5 19 :MULT = :MULT * 10;15 15 
28 15 ZSFDCP_LOAD_GRV80 5 18 :ITER = :ITER + 1;16 16 
28 15 ZSFDCP_LOAD_GRV80 5 9 LOOP 800;17 17 
28 15 ZSFDCP_LOAD_GRV80 5 10 LABEL 900;18 18 
28 15 ZSFDCP_LOAD_GRV80 5 21 UPDATE ZSFDC_LOAD_GRV19 19 
28 15 ZSFDCP_LOAD_GRV80 5 27 SET TQUANT = TQUANT * :MULT20 20 
28 15 ZSFDCP_LOAD_GRV80 5 19 WHERE LOADED <> 'Y'21 21 
28 15 ZSFDCP_LOAD_GRV80 5 21 AND RECORDTYPE <> '1'22 22 
28 15 ZSFDCP_LOAD_GRV80 5 13 AND LINE > 0;23 23 
28 15 ZSFDCP_LOAD_GRV80 5 29 /* Set to only load type 1 */24 24 
28 15 ZSFDCP_LOAD_GRV80 5 30 DELETE FROM ZSFDC_LOAD_GRV_hd;25 25 
28 15 ZSFDCP_LOAD_GRV80 5 29 INSERT INTO ZSFDC_LOAD_GRV_hd26 26 
28 15 ZSFDCP_LOAD_GRV80 5 28 SELECT * FROM ZSFDC_LOAD_GRV27 27 
28 15 ZSFDCP_LOAD_GRV80 5 1 ;28 28 
7 15 ZSFDCP_LOAD_GRV80 9 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 9 54 SELECT 'Load Data from [ZSFDC_LOAD_GRV_hd]' FROM DUMMY1 1 
28 15 ZSFDCP_LOAD_GRV80 9 29 FORMAT ADDTO 'C:\ERRORS.TXT';2 2 
28 15 ZSFDCP_LOAD_GRV80 9 31 SELECT * FROM ZSFDC_LOAD_GRV_hd3 3 
28 15 ZSFDCP_LOAD_GRV80 9 29 FORMAT ADDTO 'C:\ERRORS.TXT';4 4 
7 15 ZSFDCP_LOAD_GRV80 10 17 ZSFDC_LOAD_GRV_hd73 
7 15 ZSFDCP_LOAD_GRV80 12 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 12 63 SELECT SQL.DATE, 'Completed load: ZSFDC_LOAD_GRV_hd' FROM DUMMY1 1 
28 15 ZSFDCP_LOAD_GRV80 12 29 FORMAT ADDTO 'C:\ERRORS.TXT';2 2 
28 15 ZSFDCP_LOAD_GRV80 12 58 SELECT * FROM ERRMSGS WHERE TYPE = 'i' AND USER = SQL.USER3 3 
28 15 ZSFDCP_LOAD_GRV80 12 29 FORMAT ADDTO 'C:\ERRORS.TXT';4 4 
7 15 ZSFDCP_LOAD_GRV80 13 4 GOTO66 
9 15 ZSFDCP_LOAD_GRV80 13 3 LIN0 0 3 INT2 1413 0 0 0 
7 15 ZSFDCP_LOAD_GRV80 14 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 14 10 :LINE = 0;1 1 
28 15 ZSFDCP_LOAD_GRV80 14 11 :KEY1 = '';2 2 
28 15 ZSFDCP_LOAD_GRV80 14 15 :LOADED = '\0';3 3 
28 15 ZSFDCP_LOAD_GRV80 14 21 DECLARE C CURSOR  FOR4 4 
28 15 ZSFDCP_LOAD_GRV80 14 26 SELECT LINE, KEY1 , LOADED5 5 
28 15 ZSFDCP_LOAD_GRV80 14 22 FROM ZSFDC_LOAD_GRV_hd6 6 
28 15 ZSFDCP_LOAD_GRV80 14 14 WHERE LINE > 07 7 
28 15 ZSFDCP_LOAD_GRV80 14 7 OPEN C;8 9 
28 15 ZSFDCP_LOAD_GRV80 14 9 LABEL 10;9 10 
28 15 ZSFDCP_LOAD_GRV80 14 35 FETCH C INTO :LINE, :KEY1, :LOADED;10 11 
28 15 ZSFDCP_LOAD_GRV80 14 27 GOTO 100 WHERE :RETVAL = 0;11 12 
28 15 ZSFDCP_LOAD_GRV80 14 33 SELECT :LOADED FROM DUMMY FORMAT;12 13 
28 15 ZSFDCP_LOAD_GRV80 14 21 UPDATE ZSFDC_LOAD_GRV13 14 
28 15 ZSFDCP_LOAD_GRV80 14 34 SET KEY1 = :KEY1, LOADED = :LOADED14 15 
28 15 ZSFDCP_LOAD_GRV80 14 19 WHERE LINE = :LINE;15 16 
28 15 ZSFDCP_LOAD_GRV80 14 8 LOOP 10;16 17 
28 15 ZSFDCP_LOAD_GRV80 14 10 LABEL 100;17 18 
28 15 ZSFDCP_LOAD_GRV80 14 8 CLOSE C;18 19 
28 15 ZSFDCP_LOAD_GRV80 14 21 AND RECORDTYPE = '1';19 8 
7 15 ZSFDCP_LOAD_GRV80 15 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 15 35 :LINE = :OI = :THISPART = :KEY = 0;1 1 
28 15 ZSFDCP_LOAD_GRV80 15 38 :KEY1 = :RECORDTYPE = :PARTNAME = '' ;2 2 
28 15 ZSFDCP_LOAD_GRV80 15 21 DECLARE C1 CURSOR FOR3 3 
28 15 ZSFDCP_LOAD_GRV80 15 39 SELECT KEY1, RECORDTYPE, LINE, PARTNAME4 4 
28 15 ZSFDCP_LOAD_GRV80 15 19 FROM ZSFDC_LOAD_GRV5 5 
28 15 ZSFDCP_LOAD_GRV80 15 1 ;6 6 
28 15 ZSFDCP_LOAD_GRV80 15 9 OPEN C1 ;7 7 
28 15 ZSFDCP_LOAD_GRV80 15 9 LABEL 10;8 8 
28 15 ZSFDCP_LOAD_GRV80 15 51 FETCH C1 INTO :KEY1, :RECORDTYPE, :LINE, :PARTNAME;9 9 
28 15 ZSFDCP_LOAD_GRV80 15 27 GOTO 100 WHERE :RETVAL = 0;10 10 
28 15 ZSFDCP_LOAD_GRV80 15 33 GOTO 50 WHERE :RECORDTYPE <> '1';11 11 
28 15 ZSFDCP_LOAD_GRV80 15 40 SELECT ATOI(:KEY1) INTO :KEY FROM DUMMY;12 12 
28 15 ZSFDCP_LOAD_GRV80 15 9 LABEL 50;13 13 
28 15 ZSFDCP_LOAD_GRV80 15 32 GOTO 99 WHERE :RECORDTYPE = '1';14 14 
28 15 ZSFDCP_LOAD_GRV80 15 26 SELECT PART INTO :THISPART15 15 
28 15 ZSFDCP_LOAD_GRV80 15 9 FROM PART16 16 
28 15 ZSFDCP_LOAD_GRV80 15 27 WHERE PARTNAME = :PARTNAME;17 17 
28 15 ZSFDCP_LOAD_GRV80 15 21 SELECT TRANS INTO :OI18 18 
28 15 ZSFDCP_LOAD_GRV80 15 15 FROM TRANSORDER19 19 
28 15 ZSFDCP_LOAD_GRV80 15 16 WHERE DOC = :KEY20 20 
28 15 ZSFDCP_LOAD_GRV80 15 21 AND PART = :THISPART;21 21 
28 15 ZSFDCP_LOAD_GRV80 15 42 UPDATE ZSFDC_LOAD_GRV SET KEY1 = ITOA(:OI)22 22 
28 15 ZSFDCP_LOAD_GRV80 15 19 WHERE LINE = :LINE;23 23 
28 15 ZSFDCP_LOAD_GRV80 15 9 LABEL 99;24 24 
28 15 ZSFDCP_LOAD_GRV80 15 8 LOOP 10;25 25 
28 15 ZSFDCP_LOAD_GRV80 15 10 LABEL 100;26 26 
28 15 ZSFDCP_LOAD_GRV80 15 10 CLOSE C1 ;27 27 
28 15 ZSFDCP_LOAD_GRV80 15 38 UPDATE ZSFDC_LOAD_GRV SET LOADED = '';28 28 
7 15 ZSFDCP_LOAD_GRV80 16 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 16 51 SELECT 'Load Data from [ZSFDC_LOAD_GRV]' FROM DUMMY1 1 
28 15 ZSFDCP_LOAD_GRV80 16 29 FORMAT ADDTO 'C:\ERRORS.TXT';2 2 
28 15 ZSFDCP_LOAD_GRV80 16 28 SELECT * FROM ZSFDC_LOAD_GRV3 3 
28 15 ZSFDCP_LOAD_GRV80 16 29 FORMAT ADDTO 'C:\ERRORS.TXT';4 4 
7 15 ZSFDCP_LOAD_GRV80 17 14 ZSFDC_LOAD_GRV73 
7 15 ZSFDCP_LOAD_GRV80 18 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 18 60 SELECT SQL.DATE, 'Completed load: ZSFDC_LOAD_GRV' FROM DUMMY1 1 
28 15 ZSFDCP_LOAD_GRV80 18 29 FORMAT ADDTO 'C:\ERRORS.TXT';2 2 
28 15 ZSFDCP_LOAD_GRV80 18 58 SELECT * FROM ERRMSGS WHERE TYPE = 'i' AND USER = SQL.USER3 3 
28 15 ZSFDCP_LOAD_GRV80 18 29 FORMAT ADDTO 'C:\ERRORS.TXT';4 4 
7 15 ZSFDCP_LOAD_GRV80 19 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 19 26 DELETE FROM ZSFDC_LOAD_GRV1 1 
28 15 ZSFDCP_LOAD_GRV80 19 40 WHERE RECORDTYPE = '2' AND LOADED = 'Y';2 2 
28 15 ZSFDCP_LOAD_GRV80 19 21 UPDATE ZSFDC_LOAD_GRV3 3 
28 15 ZSFDCP_LOAD_GRV80 19 53 SET ORDI = ATOI(KEY1), STATDES = 'Final', LOADED = ''4 4 
28 15 ZSFDCP_LOAD_GRV80 19 23 WHERE RECORDTYPE = '1';5 5 
28 15 ZSFDCP_LOAD_GRV80 19 21 UPDATE ZSFDC_LOAD_GRV6 6 
28 15 ZSFDCP_LOAD_GRV80 19 13 SET KEY1 = ''7 7 
28 15 ZSFDCP_LOAD_GRV80 19 1 ;8 9 
28 15 ZSFDCP_LOAD_GRV80 19 22 WHERE RECORDTYPE = '1'9 8 
7 15 ZSFDCP_LOAD_GRV80 21 4 GOTO66 
9 15 ZSFDCP_LOAD_GRV80 21 3 LIN0 0 3 INT2 2413 0 0 0 
7 15 ZSFDCP_LOAD_GRV80 24 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 24 51 SELECT 'Load Data from [ZSFDC_LOAD_GRV]' FROM DUMMY1 1 
28 15 ZSFDCP_LOAD_GRV80 24 29 FORMAT ADDTO 'C:\ERRORS.TXT';2 2 
28 15 ZSFDCP_LOAD_GRV80 24 28 SELECT * FROM ZSFDC_LOAD_GRV3 3 
28 15 ZSFDCP_LOAD_GRV80 24 29 FORMAT ADDTO 'C:\ERRORS.TXT';4 4 
7 15 ZSFDCP_LOAD_GRV80 25 15 ZSFDC_GRV_FINAL73 
7 15 ZSFDCP_LOAD_GRV80 26 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 26 61 SELECT SQL.DATE, 'Completed load: ZSFDC_GRV_FINAL' FROM DUMMY1 1 
28 15 ZSFDCP_LOAD_GRV80 26 29 FORMAT ADDTO 'C:\ERRORS.TXT';2 2 
28 15 ZSFDCP_LOAD_GRV80 26 58 SELECT * FROM ERRMSGS WHERE TYPE = 'i' AND USER = SQL.USER3 3 
28 15 ZSFDCP_LOAD_GRV80 26 29 FORMAT ADDTO 'C:\ERRORS.TXT';4 4 
7 15 ZSFDCP_LOAD_GRV80 30 4 SQLI67 
28 15 ZSFDCP_LOAD_GRV80 30 33 :ID = :LINE = :NOLD = :FIRST = 0;1 1 
28 15 ZSFDCP_LOAD_GRV80 30 19 :LOADED = :RT = '';2 2 
28 15 ZSFDCP_LOAD_GRV80 30 32 /* ITERATE THROUGH LOAD TABLE */3 3 
28 15 ZSFDCP_LOAD_GRV80 30 22 DECLARE Cur CURSOR FOR4 4 
28 15 ZSFDCP_LOAD_GRV80 30 36 SELECT RECORDTYPE, LINE, LOADED FROM5 5 
28 15 ZSFDCP_LOAD_GRV80 30 41 /********************** LOAD TABLE NAME*/6 6 
28 15 ZSFDCP_LOAD_GRV80 30 14 ZSFDC_LOAD_GRV7 7 
28 15 ZSFDCP_LOAD_GRV80 30 41 /***************************************/8 8 
28 15 ZSFDCP_LOAD_GRV80 30 15 WHERE LINE > 0;9 9 
28 15 ZSFDCP_LOAD_GRV80 30 9 OPEN Cur;10 10 
28 15 ZSFDCP_LOAD_GRV80 30 9 LABEL 10;11 11 
28 15 ZSFDCP_LOAD_GRV80 30 35 FETCH Cur INTO :RT, :LINE, :LOADED;12 12 
28 15 ZSFDCP_LOAD_GRV80 30 26 GOTO 20 WHERE :RETVAL = 0;13 13 
28 15 ZSFDCP_LOAD_GRV80 30 52 SELECT 1 INTO :NOLD FROM DUMMY WHERE :LOADED <> 'Y';14 14 
28 15 ZSFDCP_LOAD_GRV80 30 39 GOTO 15 WHERE :RT <> '1' OR :FIRST = 0;15 15 
28 15 ZSFDCP_LOAD_GRV80 30 19 /* RECORD TYPE 1 */16 16 
28 15 ZSFDCP_LOAD_GRV80 30 12 /* LOADED */17 17 
28 15 ZSFDCP_LOAD_GRV80 30 46 GOSUB 300; /* DELETE LOADED FROM LOAD TABLE */18 18 
28 15 ZSFDCP_LOAD_GRV80 30 36 GOSUB 200; /* CLEAN UP LOADING ID */19 19 
28 15 ZSFDCP_LOAD_GRV80 30 33 GOSUB 100; /* GET A LOADING ID */20 20 
28 15 ZSFDCP_LOAD_GRV80 30 9 LABEL 15;21 21 
28 15 ZSFDCP_LOAD_GRV80 30 63 INSERT INTO ZSFDC_CLEANTABLE (LOADID,LINE) VALUES (:ID, :LINE);22 22 
28 15 ZSFDCP_LOAD_GRV80 30 32 SELECT 1 INTO :FIRST FROM DUMMY;23 23 
28 15 ZSFDCP_LOAD_GRV80 30 8 LOOP 10;24 24 
28 15 ZSFDCP_LOAD_GRV80 30 9 LABEL 20;25 25 
28 15 ZSFDCP_LOAD_GRV80 30 10 CLOSE Cur;26 26 
28 15 ZSFDCP_LOAD_GRV80 30 46 GOSUB 300; /* DELETE LOADED FROM LOAD TABLE */27 27 
28 15 ZSFDCP_LOAD_GRV80 30 36 GOSUB 200; /* CLEAN UP LOADING ID */28 28 
28 15 ZSFDCP_LOAD_GRV80 30 25 /************************29 29 
28 15 ZSFDCP_LOAD_GRV80 30 25 ************************/30 30 
28 15 ZSFDCP_LOAD_GRV80 30 8 SUB 100;31 31 
28 15 ZSFDCP_LOAD_GRV80 30 22 /* GET A LOADING ID */32 32 
28 15 ZSFDCP_LOAD_GRV80 30 58 SELECT 0 + MAX(LOADID) + 1 INTO :ID FROM ZSFDC_CLEANTABLE;33 33 
28 15 ZSFDCP_LOAD_GRV80 30 60 INSERT INTO ZSFDC_CLEANTABLE (LOADID, LINE) VALUES (:ID, 0);34 34 
28 15 ZSFDCP_LOAD_GRV80 30 7 RETURN;35 35 
28 15 ZSFDCP_LOAD_GRV80 30 4 /**/36 36 
28 15 ZSFDCP_LOAD_GRV80 30 8 SUB 200;37 37 
28 15 ZSFDCP_LOAD_GRV80 30 25 /* CLEAN UP LOADING ID */38 38 
28 15 ZSFDCP_LOAD_GRV80 30 31 SELECT 0 INTO :NOLD FROM DUMMY;39 39 
28 15 ZSFDCP_LOAD_GRV80 30 48 DELETE FROM ZSFDC_CLEANTABLE WHERE LOADID = :ID;40 40 
28 15 ZSFDCP_LOAD_GRV80 30 7 RETURN;41 41 
28 15 ZSFDCP_LOAD_GRV80 30 8 SUB 300;42 42 
28 15 ZSFDCP_LOAD_GRV80 30 35 /* DELETE LOADED FROM LOAD TABLE */43 43 
28 15 ZSFDCP_LOAD_GRV80 30 25 GOTO 310 WHERE :NOLD = 1;44 44 
28 15 ZSFDCP_LOAD_GRV80 30 11 DELETE FROM45 45 
28 15 ZSFDCP_LOAD_GRV80 30 41 /********************** LOAD TABLE NAME*/46 46 
28 15 ZSFDCP_LOAD_GRV80 30 14 ZSFDC_LOAD_GRV47 47 
28 15 ZSFDCP_LOAD_GRV80 30 41 /***************************************/48 48 
28 15 ZSFDCP_LOAD_GRV80 30 13 WHERE LINE IN49 49 
28 15 ZSFDCP_LOAD_GRV80 30 1 (50 50 
28 15 ZSFDCP_LOAD_GRV80 30 33 SELECT LINE FROM ZSFDC_CLEANTABLE51 51 
28 15 ZSFDCP_LOAD_GRV80 30 18 WHERE LOADID = :ID52 52 
28 15 ZSFDCP_LOAD_GRV80 30 12 AND LINE > 053 53 
28 15 ZSFDCP_LOAD_GRV80 30 2 );54 54 
28 15 ZSFDCP_LOAD_GRV80 30 10 LABEL 310;55 55 
28 15 ZSFDCP_LOAD_GRV80 30 7 RETURN;56 56 
7 15 ZSFDCP_LOAD_GRV80 40 3 END66 
17 11 ZSFDCP_TEST17 Test Connectivity0 80 0 0 0 0 4 SFDC0 0 
57 20 Internal Development1 
58 1 11 ZSFDCP_TEST80 
7 11 ZSFDCP_TEST80 10 4 SQLI67 
28 11 ZSFDCP_TEST80 10 9 :NEXT =0;1 1 
28 11 ZSFDCP_TEST80 10 46 SELECT MAX(ID) + 1 INTO :NEXT FROM ZSFDC_TEST;2 2 
28 11 ZSFDCP_TEST80 10 22 INSERT INTO ZSFDC_TEST3 3 
28 11 ZSFDCP_TEST80 10 17 (ID, USER, CDATE)4 4 
28 11 ZSFDCP_TEST80 10 6 VALUES5 5 
28 11 ZSFDCP_TEST80 10 29 (:NEXT, SQL.USER, SQL.DATE );6 6 
EOF
echo End of Upgrade 7.0.55755
