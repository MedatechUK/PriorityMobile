USE [b060413]
GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'v_PDAFAMILY'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'v_PDAFAMILY'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE2'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane2' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE2'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE2'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane2' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_WARHS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_WARHS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_SURVEY'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_SURVEY'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_STATUS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_STATUS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_RESOLUTION'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_RESOLUTION'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_MALFUNCTION'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_MALFUNCTION'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_DETAILS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_DETAILS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALLTECHS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALLTECHS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_Route_Customer'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane2' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_Route_Customer'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_Route_Customer'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_QUANT_COUNT'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_QUANT_COUNT'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR2'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane2' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR2'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR2'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKLIST_PARTS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane2' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKLIST_PARTS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKLIST_PARTS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_ROUTE'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane2' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_ROUTE'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_ROUTE'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_MONITOR'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_MONITOR'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKEDITEMS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKEDITEMS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_CUSTFORROUTE'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane2' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_CUSTFORROUTE'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_CUSTFORROUTE'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_ALL_ORDERITEMS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane2' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_ALL_ORDERITEMS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_ALL_ORDERITEMS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPaneCount' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'CUSTMINPICKDAYS'

GO
EXEC sys.sp_dropextendedproperty @name=N'MS_DiagramPane1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'CUSTMINPICKDAYS'

GO
/****** Object:  View [dbo].[v_YestTotalOrders]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_YestTotalOrders]
GO
/****** Object:  View [dbo].[v_YestOrderRate]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_YestOrderRate]
GO
/****** Object:  View [dbo].[v_YestCallsByValue]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_YestCallsByValue]
GO
/****** Object:  View [dbo].[v_YestCalls]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_YestCalls]
GO
/****** Object:  View [dbo].[v_YestAvgCallValue]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_YestAvgCallValue]
GO
/****** Object:  View [dbo].[v_USERS]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_USERS]
GO
/****** Object:  View [dbo].[v_TotalOrders]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_TotalOrders]
GO
/****** Object:  View [dbo].[v_PDAFAMILY]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_PDAFAMILY]
GO
/****** Object:  View [dbo].[v_OrderRate]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_OrderRate]
GO
/****** Object:  View [dbo].[v_CallsByValue]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_CallsByValue]
GO
/****** Object:  View [dbo].[v_Calls]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_Calls]
GO
/****** Object:  View [dbo].[v_AvgCallValue]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[v_AvgCallValue]
GO
/****** Object:  View [dbo].[V_UncheckedRoutes]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_UncheckedRoutes]
GO
/****** Object:  View [dbo].[V_UNPICKED_ROUTE2]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_UNPICKED_ROUTE2]
GO
/****** Object:  View [dbo].[V_UNPICKED_ROUTE]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_UNPICKED_ROUTE]
GO
/****** Object:  View [dbo].[V_SVCCALL_WARHS]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_SVCCALL_WARHS]
GO
/****** Object:  View [dbo].[V_SVCCALL_SURVEY]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_SVCCALL_SURVEY]
GO
/****** Object:  View [dbo].[V_SVCCALL_STATUS]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_SVCCALL_STATUS]
GO
/****** Object:  View [dbo].[V_SVCCALL_RESOLUTION]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_SVCCALL_RESOLUTION]
GO
/****** Object:  View [dbo].[V_SVCCALL_MALFUNCTION]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_SVCCALL_MALFUNCTION]
GO
/****** Object:  View [dbo].[V_SVCCALL_DETAILS]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_SVCCALL_DETAILS]
GO
/****** Object:  View [dbo].[V_Route_Customer]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_Route_Customer]
GO
/****** Object:  View [dbo].[V_PICK_MONITOR2]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_PICK_MONITOR2]
GO
/****** Object:  View [dbo].[V_PICKLIST_PARTS]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_PICKLIST_PARTS]
GO
/****** Object:  View [dbo].[V_PICKED_ROUTE]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_PICKED_ROUTE]
GO
/****** Object:  View [dbo].[V_PICKEDITEMS]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_PICKEDITEMS]
GO
/****** Object:  View [dbo].[V_CUSTFORROUTE]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_CUSTFORROUTE]
GO
/****** Object:  View [dbo].[CUSTMINPICKDAYS]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[CUSTMINPICKDAYS]
GO
/****** Object:  UserDefinedFunction [dbo].[V_ROUTE_PS]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[V_ROUTE_PS]
GO
/****** Object:  View [dbo].[V_SERVCALL]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_SERVCALL]
GO
/****** Object:  View [dbo].[V_SVCCALLTECHS]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_SVCCALLTECHS]
GO
/****** Object:  View [dbo].[V_QUANT_COUNT]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_QUANT_COUNT]
GO
/****** Object:  View [dbo].[V_PICK_MONITOR]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_PICK_MONITOR]
GO
/****** Object:  View [dbo].[V_PICKED_MONITOR]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_PICKED_MONITOR]
GO
/****** Object:  View [dbo].[V_ALL_ORDERITEMS]    Script Date: 27/09/2013 15:29:29 ******/
DROP VIEW [dbo].[V_ALL_ORDERITEMS]
GO
/****** Object:  UserDefinedFunction [dbo].[xmlSafeVarChar]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[xmlSafeVarChar]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_WhsParts]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_WhsParts]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_VanPartTotal]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_VanPartTotal]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_Survey]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_Survey]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_RouteOrder]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_RouteOrder]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_QuestRemarks]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_QuestRemarks]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_Payment]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_Payment]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_PartsStdPrice]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_PartsStdPrice]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_PartSerials1]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_PartSerials1]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_PartSerials]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_PartSerials]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_Invoices]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_Invoices]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_InvoiceItems]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_InvoiceItems]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_FamilyParts]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_FamilyParts]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_Family]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_Family]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_DeliveryItems]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_DeliveryItems]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_Deliveries]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_Deliveries]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerRemarks]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_CustomerRemarks]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerPriceList]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_CustomerPriceList]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerPartList]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_CustomerPartList]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerFamily]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_CustomerFamily]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerDetails]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_CustomerDetails]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerAccInfo]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_CustomerAccInfo]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustPartString]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_CustPartString]
GO
/****** Object:  UserDefinedFunction [dbo].[pda_BankCodes]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[pda_BankCodes]
GO
/****** Object:  UserDefinedFunction [dbo].[WARHS_EXT]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[WARHS_EXT]
GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_TECHS]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[SVCCALL_TECHS]
GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_STATUS]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[SVCCALL_STATUS]
GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_PHONE]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[SVCCALL_PHONE]
GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_DETAILS2]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[SVCCALL_DETAILS2]
GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_CODE]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[SVCCALL_CODE]
GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_ADDRESS]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[SVCCALL_ADDRESS]
GO
/****** Object:  UserDefinedFunction [dbo].[REALQUANT]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[REALQUANT]
GO
/****** Object:  UserDefinedFunction [dbo].[QUESTIONTEXT]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[QUESTIONTEXT]
GO
/****** Object:  UserDefinedFunction [dbo].[NextDeliveryDate]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[NextDeliveryDate]
GO
/****** Object:  UserDefinedFunction [dbo].[MINTODATE]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[MINTODATE]
GO
/****** Object:  UserDefinedFunction [dbo].[MINOP]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[MINOP]
GO
/****** Object:  UserDefinedFunction [dbo].[INTTOALPHA]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[INTTOALPHA]
GO
/****** Object:  UserDefinedFunction [dbo].[INTQUANT]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[INTQUANT]
GO
/****** Object:  UserDefinedFunction [dbo].[FUNC_ROUTE_PS]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[FUNC_ROUTE_PS]
GO
/****** Object:  UserDefinedFunction [dbo].[FUNC_ROUTE_CHECKED]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[FUNC_ROUTE_CHECKED]
GO
/****** Object:  UserDefinedFunction [dbo].[FUNC_ROUTE_CHECK]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[FUNC_ROUTE_CHECK]
GO
/****** Object:  UserDefinedFunction [dbo].[DATETOMIN8]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[DATETOMIN8]
GO
/****** Object:  UserDefinedFunction [dbo].[DATETOMIN]    Script Date: 27/09/2013 15:29:29 ******/
DROP FUNCTION [dbo].[DATETOMIN]
GO
/****** Object:  StoredProcedure [dbo].[ZSFDC_MarkPicked]    Script Date: 27/09/2013 15:29:29 ******/
DROP PROCEDURE [dbo].[ZSFDC_MarkPicked]
GO
/****** Object:  StoredProcedure [dbo].[SP_SFDC_UpdatePick]    Script Date: 27/09/2013 15:29:29 ******/
DROP PROCEDURE [dbo].[SP_SFDC_UpdatePick]
GO
/****** Object:  StoredProcedure [dbo].[SP_SFDC_UPDATEITEMS]    Script Date: 27/09/2013 15:29:29 ******/
DROP PROCEDURE [dbo].[SP_SFDC_UPDATEITEMS]
GO
/****** Object:  StoredProcedure [dbo].[SP_SFDC_REMOVEFLAG]    Script Date: 27/09/2013 15:29:29 ******/
DROP PROCEDURE [dbo].[SP_SFDC_REMOVEFLAG]
GO
/****** Object:  StoredProcedure [dbo].[SP_SFDC_REMOVEFLAG]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO


CREATE procedure [dbo].[SP_SFDC_REMOVEFLAG]
(
@ROUTE VARCHAR,
@DUEDATE INTEGER
)
as
begin
UPDATE ORDERITEMS
SET ZROD_IN_PICK = 'N'
WHERE DUEDATE = @DUEDATE
AND   ZROD_ROUTE = @ROUTE
and ZROD_TOBEPICKED > 0
end


GO
/****** Object:  StoredProcedure [dbo].[SP_SFDC_UPDATEITEMS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE procedure [dbo].[SP_SFDC_UPDATEITEMS]
(
@ROUTE VARCHAR,
@DUEDATE INTEGER
)
as
begin
UPDATE ORDERITEMS
SET ZROD_IN_PICK = 'Y'
WHERE DUEDATE = @DUEDATE
AND   ZROD_ROUTE = @ROUTE
and ZROD_TOBEPICKED > 0
end

GO
/****** Object:  StoredProcedure [dbo].[SP_SFDC_UpdatePick]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

-- =============================================
-- Author:		Andy Mackintosh
-- Create date: 03/04/2013
-- Description:	Procedure to set the ischecked flag to 'y' after item counted
-- =============================================
Create PROCEDURE [dbo].[SP_SFDC_UpdatePick]
	@PICK AS INTEGER
AS
BEGIN
UPDATE ZROD_PICKS SET ISCHECKED = 'Y' WHERE PICK = @PICK
END


GO
/****** Object:  StoredProcedure [dbo].[ZSFDC_MarkPicked]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO



CREATE PROCEDURE [dbo].[ZSFDC_MarkPicked] 
	-- Add the parameters for the stored procedure here
	@PICKREFNUM  int
AS
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;

    -- Insert statements for procedure here
    IF EXISTS (SELECT PICKREFNUM FROM ZTRX_PICKMONITOR WHERE PICKREFNUM  = @PICKREFNUM and TOGUN <> 'Y')
		BEGIN
			update ZTRX_PICKMONITOR set TOGUN = 'Y' where PICKREFNUM  = @PICKREFNUM 
			select @PICKREFNUM
		END
END



GO
/****** Object:  UserDefinedFunction [dbo].[DATETOMIN]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Author,,Name>
-- Create date: <Create Date, ,>
-- Description:	<Description, ,>
-- =============================================
CREATE FUNCTION [dbo].[DATETOMIN] 
(
	-- Add the parameters for the function here
	@DT as datetime
)
RETURNS int
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar as int

	-- Add the T-SQL statements to compute the return value here
	SELECT @ResultVar = (DATEdiff(MI, '19880101',@DT ))

	-- Return the result of the function
	RETURN @ResultVar

END

GO
/****** Object:  UserDefinedFunction [dbo].[DATETOMIN8]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[DATETOMIN8] 
(	
	@DT as datetime
)
RETURNS int
AS
BEGIN
		
	declare @d8 datetime 
	set @d8 = DATEADD(MI, 0, '19880101')
	set @d8 = (dateadd(YEAR,DATEPART(year,GETDATE()) - 1988, @d8))
	set @d8 = (dateadd(MONTH,month(@DT)-1,@d8))
	set @d8 = (dateadd(DAY,day(@DT)-1,@d8 ))

	RETURN DATEdiff(MI, '19880101', @d8)

END

GO
/****** Object:  UserDefinedFunction [dbo].[FUNC_ROUTE_CHECK]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[FUNC_ROUTE_CHECK]

(	-- Add the parameters for the function here
	@ROUTE VARCHAR(6),
	@DUEDATE INTEGER
)
RETURNS VARCHAR(16)
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar varchar(16)
set @ResultVar =
	(SELECT TOP 1 CUSTNAME 
FROM ORDERITEMS, ORDERS, CUSTOMERS, ORDSTATUS,ZROD_ROUTES
WHERE      
DUEDATE =@DUEDATE 
AND TBALANCE > 0  
AND TQUANT > PACKED 
AND ORDERITEMS.CLOSED <> 'C' 
AND ORDERITEMS.ZROD_IN_PICK = 'Y' 
AND ORDERITEMS.ORD = ORDERS.ORD 
AND ORDERS.ORDSTATUS = ORDSTATUS.ORDSTATUS 
AND AUTODISTRIBFLAG = 'Y' 
AND ORDERS.CUST = CUSTOMERS.CUST 
AND @ROUTE = ZROD_ROUTES.ROUTENAME
AND ORDERITEMS.ZROD_ROUTE = ZROD_ROUTES.ROUTE
AND ZROD_ROUTES.ZROD_PICKTYPE = 'S'
)

	RETURN ISNULL(@ResultVar,'')

END

GO
/****** Object:  UserDefinedFunction [dbo].[FUNC_ROUTE_CHECKED]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[FUNC_ROUTE_CHECKED]

(	-- Add the parameters for the function here
	@ROUTE VARCHAR(6),
	@DUEDATE INTEGER
)
RETURNS VARCHAR(16)
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar varchar(16)
set @ResultVar =
	(SELECT TOP 1 CUSTNAME 
FROM ORDERITEMS, ORDERS, CUSTOMERS, ORDSTATUS,ZROD_ROUTES
WHERE      
DUEDATE =@DUEDATE 
AND PACKED >=0
AND ORDERITEMS.CLOSED <> 'C' 
AND ORDERITEMS.ZROD_IN_CHECK <> 'Y' 
AND ORDERITEMS.ORD = ORDERS.ORD 
AND ORDERS.ORDSTATUS = ORDSTATUS.ORDSTATUS 
AND AUTODISTRIBFLAG = 'Y' 
AND ORDERS.CUST = CUSTOMERS.CUST 
AND @ROUTE = ZROD_ROUTES.ROUTENAME
AND ORDERITEMS.ZROD_ROUTE = ZROD_ROUTES.ROUTE
AND ZROD_ROUTES.ZROD_PICKTYPE = 'S'
)

	RETURN ISNULL(@ResultVar,'')

END

GO
/****** Object:  UserDefinedFunction [dbo].[FUNC_ROUTE_PS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[FUNC_ROUTE_PS]

(	-- Add the parameters for the function here
	@ROUTE VARCHAR(6),
	@DUEDATE INTEGER
)
RETURNS VARCHAR(16)
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar varchar(16)
set @ResultVar =
	(SELECT TOP 1 CUSTNAME 
FROM ORDERITEMS, ORDERS, CUSTOMERS, ORDSTATUS,ZROD_ROUTES
WHERE      
DUEDATE =@DUEDATE 
AND TBALANCE > 0  
AND TQUANT > PACKED 
AND ORDERITEMS.CLOSED <> 'C' 
AND ORDERITEMS.ZROD_IN_PICK <> 'Y' 
AND ORDERITEMS.ORD = ORDERS.ORD 
AND ORDERS.ORDSTATUS = ORDSTATUS.ORDSTATUS 
AND AUTODISTRIBFLAG = 'Y' 
AND ORDERS.CUST = CUSTOMERS.CUST 
AND @ROUTE = ZROD_ROUTES.ROUTENAME
AND ORDERITEMS.ZROD_ROUTE = ZROD_ROUTES.ROUTE
AND ZROD_ROUTES.ZROD_PICKTYPE = 'S'
and ZROD_TOBEPICKED > 0
)

	RETURN ISNULL(@ResultVar,'')

END
GO
/****** Object:  UserDefinedFunction [dbo].[INTQUANT]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		Si
-- Create date: 4/12/07
-- Description:	return number to divide by for shifted ints
-- =============================================
create FUNCTION [dbo].[INTQUANT] 
(
@Quant int
)
RETURNS int
AS
BEGIN
	-- Declare the return variable here
	DECLARE @result int

	set @result = @Quant * (SELECT     POWER(10, VALUE)  
                            FROM          system.dbo.SYSCONST
                            WHERE      (NAME = 'DECIMAL'))

	-- Return the result of the function
	RETURN @result

END

GO
/****** Object:  UserDefinedFunction [dbo].[INTTOALPHA]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		Si
-- Create date: 17/5/13
-- Description:	Convert Number to Alpha Sortable string
-- =============================================
CREATE FUNCTION [dbo].[INTTOALPHA]
(
	-- Add the parameters for the function here
	@intval bigint
)
RETURNS varchar(20)
AS
BEGIN
	declare @str varchar(20)

	set @str = right(LTRIM(RTRIM('AAAAAAAAAAAAAAAAAAAA' + LTRIM(RTRIM(str(@intval))))),20)

	set @str = (select replace(@str,'0','A'))
	set @str = (select replace(@str,'1','B'))
	set @str = (select replace(@str,'2','C'))
	set @str = (select replace(@str,'3','D'))
	set @str = (select replace(@str,'4','E'))
	set @str = (select replace(@str,'5','F'))
	set @str = (select replace(@str,'6','G'))
	set @str = (select replace(@str,'7','H'))
	set @str = (select replace(@str,'8','I'))
	set @str = (select replace(@str,'9','J'))

	RETURN @str

END

GO
/****** Object:  UserDefinedFunction [dbo].[MINOP]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

Create FUNCTION [dbo].[MINOP]
(@Param1 Integer, @Param2 Integer)
RETURNS int
AS
BEGIN

declare @param3 as int

set @param3 = Case When @Param1 < @Param2 
                 Then @Param1 Else @Param2 end
                 
                 return @param3
 end
                 
                 
                 

GO
/****** Object:  UserDefinedFunction [dbo].[MINTODATE]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Author,,Name>
-- Create date: <Create Date, ,>
-- Description:	<Description, ,>
-- =============================================
CREATE FUNCTION [dbo].[MINTODATE]
(
	-- Add the parameters for the function here
	@MIN INT
)
RETURNS DATETIME
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar datetime

	-- Add the T-SQL statements to compute the return value here
	SELECT @ResultVar = (DATEADD(MI, @MIN, '19880101'))

	-- Return the result of the function
	RETURN @ResultVar

END

GO
/****** Object:  UserDefinedFunction [dbo].[NextDeliveryDate]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[NextDeliveryDate]
(
	-- Add the parameters for the function here
	@cust INT,
	@adddays int

)
RETURNS INT
AS
BEGIN
	-- Declare the return variable here
	DECLARE @deliveryDate INT
	set @deliveryDate = 0
	
	SET  @deliveryDate = (SELECT dbo.DATETOMIN(getdate()) + (MIN((0+ WEEKDAY))-datepart(dw,getdate()) * 1440)
				FROM  CUSTWEEKDAY
				WHERE CUST = @cust
				AND (0 + WEEKDAY) > datepart(dw,getdate()))
	
	IF @deliveryDate is null
		BEGIN 
			SET  @deliveryDate = (SELECT dbo.DATETOMIN(getdate()) + ((7 - datepart(dw, getdate()) + MIN(0+ WEEKDAY)) *1440)
						FROM  CUSTWEEKDAY
						WHERE CUST = @cust
						AND (0+ WEEKDAY) <= datepart(dw,getdate())
						and 0 + WEEKDAY > 0
						and @deliveryDate is null)
		END

	IF @deliveryDate is null
		BEGIN 

			SET @deliveryDate = dbo.DATETOMIN(getdate()) + (1440 * @adddays)
		END
				

	return @deliveryDate
	--return 12
END


GO
/****** Object:  UserDefinedFunction [dbo].[QUESTIONTEXT]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[QUESTIONTEXT]
(
	-- Add the parameters for the function here
	@QUESTF int,
	@QUESTNUM int

)
RETURNS varchar(max)
AS
BEGIN

	declare @question varchar(max)
	declare @text varchar(68)

	set @question = (SELECT QUESTDES 
	FROM QUESTIONS 
	WHERE QUESTNUM = @QUESTNUM AND QUESTF = @QUESTF)

	DECLARE qcur CURSOR FOR 
	select TEXT from QUESTIONSTEXT 
	where QUESTNUM = @QUESTNUM AND QUESTF =@QUESTF
	and TEXTORD > 2
	order by TEXTORD

	OPEN qcur

	FETCH NEXT FROM qcur 
	INTO @text

	WHILE @@FETCH_STATUS = 0
	BEGIN
		
		set @question = (@question + ' ' + rtrim(@text))

			-- Get the next vendor.
		FETCH NEXT FROM qcur 
		INTO @text
	END 
	CLOSE qcur
	DEALLOCATE qcur

	return @question

END

GO
/****** Object:  UserDefinedFunction [dbo].[REALQUANT]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		Si
-- Create date: 4/12/07
-- Description:	returns float of real numbers
-- =============================================
CREATE FUNCTION [dbo].[REALQUANT] 
(
@Quant float
)
RETURNS float
AS
BEGIN

	RETURN @Quant

END

GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_ADDRESS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[SVCCALL_ADDRESS]
(
	-- Add the parameters for the function here
	@PART varCHAR(5),
	@DOC INT
)
RETURNS VARCHAR(20)
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar VARCHAR(255)
	DECLARE @DADD VARCHAR(20)
	DECLARE @CADD VARCHAR(20)

if @PART = 'A1'
begin
	--(DESTCODES.PHONENUM <> '' ? DESTCODES.PHONENUM : PHONEBOOK.PHONENUM)
	SET @DADD = (SELECT DESTCODES.ADDRESS 
				FROM SERVCALLS, DOCUMENTS, DESTCODES 
				WHERE DOCUMENTS.DESTCODE = DESTCODES.DESTCODE
				AND DOCUMENTS.DOC = SERVCALLS.DOC
				AND DOCUMENTS.DOC = @DOC)

	SET @CADD = (SELECT CUSTOMERS.ADDRESS 
					FROM DOCUMENTS,  CUSTOMERS 
					WHERE DOCUMENTS.CUST = CUSTOMERS.CUST
					AND DOCUMENTS.DOC = @DOC)
end		


if @PART = 'A2'
begin
	--(DESTCODES.PHONENUM <> '' ? DESTCODES.PHONENUM : PHONEBOOK.PHONENUM)
	SET @DADD = (SELECT DESTCODES.ADDRESSA 
				FROM SERVCALLS, DOCUMENTS, DESTCODES 
				WHERE DOCUMENTS.DESTCODE = DESTCODES.DESTCODE
				AND DOCUMENTS.DOC = SERVCALLS.DOC
				AND DOCUMENTS.DOC = @DOC)

	SET @CADD = ''
end	


if @PART = 'A3'
begin
	--(DESTCODES.PHONENUM <> '' ? DESTCODES.PHONENUM : PHONEBOOK.PHONENUM)
	SET @DADD = (SELECT DESTCODES.STATE 
				FROM SERVCALLS, DOCUMENTS, DESTCODES 
				WHERE DOCUMENTS.DESTCODE = DESTCODES.DESTCODE
				AND DOCUMENTS.DOC = SERVCALLS.DOC
				AND DOCUMENTS.DOC = @DOC)

	SET @CADD = (SELECT CUSTOMERS.STATE 
					FROM DOCUMENTS,  CUSTOMERS 
					WHERE DOCUMENTS.CUST = CUSTOMERS.CUST
					AND DOCUMENTS.DOC = @DOC)
end	

if @PART = 'A4'
begin
	--(DESTCODES.PHONENUM <> '' ? DESTCODES.PHONENUM : PHONEBOOK.PHONENUM)
	SET @DADD = (SELECT DESTCODES.STATEA 
				FROM SERVCALLS, DOCUMENTS, DESTCODES 
				WHERE DOCUMENTS.DESTCODE = DESTCODES.DESTCODE
				AND DOCUMENTS.DOC = SERVCALLS.DOC
				AND DOCUMENTS.DOC = @DOC)

	SET @CADD = ''
end	

if @PART = 'A5'
begin
	--(DESTCODES.PHONENUM <> '' ? DESTCODES.PHONENUM : PHONEBOOK.PHONENUM)
	SET @DADD = (SELECT DESTCODES.ZIP 
				FROM SERVCALLS, DOCUMENTS, DESTCODES 
				WHERE DOCUMENTS.DESTCODE = DESTCODES.DESTCODE
				AND DOCUMENTS.DOC = SERVCALLS.DOC
				AND DOCUMENTS.DOC = @DOC)

	SET @CADD = (SELECT CUSTOMERS.ZIP 
					FROM DOCUMENTS,  CUSTOMERS 
					WHERE DOCUMENTS.CUST = CUSTOMERS.CUST
					AND DOCUMENTS.DOC = @DOC)
end	
			
	SET @ResultVar = ' '

	IF @DADD = '' AND @CADD <> ''
		begin
			set @ResultVar = @CADD
		end

	IF @CADD = '' AND @DADD  <> ''
		begin
			set @ResultVar = @DADD
		end

	IF @CADD <> '' AND @DADD  <> ''
		begin
			set @ResultVar = @DADD
		end

	return @ResultVar
END


GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_CODE]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[SVCCALL_CODE]
(
	-- Add the parameters for the function here
	@DOC INT
)
RETURNS VARCHAR(20)
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar VARCHAR(20)
	DECLARE @ECODE  VARCHAR(20)
	DECLARE @CODE VARCHAR(20)

	SET @ECODE = (SELECT ECODE
				FROM SERVCALLS, CALLSTATUSES
				WHERE SERVCALLS.CALLSTATUS   = CALLSTATUSES.CALLSTATUS
				AND SERVCALLS.DOC = @DOC)
	
	SET @ResultVar = (SELECT CODE
				FROM SERVCALLS, CALLSTATUSES
				WHERE SERVCALLS.CALLSTATUS   = CALLSTATUSES.CALLSTATUS
				AND SERVCALLS.DOC = @DOC)

	/*IF @ECODE <> ''
		begin
			set @ResultVar = @ECODE
		end */

	return @ResultVar
END

GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_DETAILS2]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Author,,Name>
-- Create date: <Create Date,,>
-- Description:	<Description,,>
-- =============================================
CREATE FUNCTION [dbo].[SVCCALL_DETAILS2]()
RETURNS 
@SVCCALL_DETAILS2 TABLE 
(
	-- Add the column definitions for the TABLE variable here	 
	DOCNO VARCHAR(24),
	TXT CHAR(68),
	USERLOGIN CHAR(8)
)
AS
BEGIN
	-- Fill the table variable with the rows for your result set
	INSERT INTO  @SVCCALL_DETAILS2 
	SELECT       dbo.DOCUMENTS.DOCNO + '-' + rtrim(ltrim(str(dbo.DOCUMENTSTEXT.TEXTORD))), dbo.DOCUMENTSTEXT.TEXT, system.dbo.USERS.USERLOGIN
	FROM         dbo.CUSTOMERS INNER JOIN
						  dbo.DOCUMENTS INNER JOIN
						  dbo.DOCUMENTSTEXT ON - dbo.DOCUMENTS.DOC = dbo.DOCUMENTSTEXT.DOC INNER JOIN
						  dbo.SERVCALLS INNER JOIN
						  dbo.PHONEBOOK ON dbo.SERVCALLS.PHONE = dbo.PHONEBOOK.PHONE INNER JOIN
						  dbo.CALLSTATUSES ON dbo.SERVCALLS.CALLSTATUS = dbo.CALLSTATUSES.CALLSTATUS ON dbo.DOCUMENTS.DOC = dbo.SERVCALLS.DOC ON 
						  dbo.CUSTOMERS.CUST = dbo.DOCUMENTS.CUST INNER JOIN
						  system.dbo.USERS ON dbo.SERVCALLS.TECHNICIAN = system.dbo.USERS.T$USER
	WHERE     (dbo.DOCUMENTS.TYPE = 'Q') AND (dbo.CALLSTATUSES.ACTIVEFLAG = 'Y') AND (dbo.SERVCALLS.PDATE >= dbo.DATETOMIN(GETDATE() - 1)) AND 
						  (system.dbo.USERS.USERLOGIN NOT LIKE 'UA%') AND (system.dbo.USERS.USERLOGIN <> 'Services') AND (dbo.DOCUMENTSTEXT.TEXTORD > 0)
	ORDER BY dbo.DOCUMENTS.DOCNO, dbo.DOCUMENTSTEXT.TEXTORD

	INSERT INTO  @SVCCALL_DETAILS2 
	SELECT     TOP (100) PERCENT dbo.DOCUMENTS.DOCNO + '-' + rtrim(ltrim(str(dbo.DOCUMENTSTEXT.TEXTORD))), dbo.DOCUMENTSTEXT.TEXT, system.dbo.USERS.USERLOGIN
	FROM         dbo.CUSTOMERS INNER JOIN
						  dbo.DOCUMENTS INNER JOIN
						  dbo.DOCUMENTSTEXT ON - dbo.DOCUMENTS.DOC = dbo.DOCUMENTSTEXT.DOC INNER JOIN
						  dbo.SERVCALLS INNER JOIN
						  dbo.PHONEBOOK ON dbo.SERVCALLS.PHONE = dbo.PHONEBOOK.PHONE INNER JOIN
						  dbo.CALLSTATUSES ON dbo.SERVCALLS.CALLSTATUS = dbo.CALLSTATUSES.CALLSTATUS ON dbo.DOCUMENTS.DOC = dbo.SERVCALLS.DOC ON 
						  dbo.CUSTOMERS.CUST = dbo.DOCUMENTS.CUST INNER JOIN
						  system.dbo.USERS ON dbo.SERVCALLS.TECHNICIAN2 = system.dbo.USERS.T$USER
	WHERE     (dbo.DOCUMENTS.TYPE = 'Q') AND (dbo.CALLSTATUSES.ACTIVEFLAG = 'Y') AND (dbo.SERVCALLS.PDATE >= dbo.DATETOMIN(GETDATE() - 1)) AND 
						  (system.dbo.USERS.USERLOGIN NOT LIKE 'UA%') AND (system.dbo.USERS.USERLOGIN <> '') AND (dbo.DOCUMENTSTEXT.TEXTORD > 0) AND 
						  (system.dbo.USERS.USERLOGIN <> 'Services')
	ORDER BY dbo.DOCUMENTS.DOCNO, dbo.DOCUMENTSTEXT.TEXTORD

	RETURN 
END

GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_PHONE]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[SVCCALL_PHONE]
(
	-- Add the parameters for the function here
	@DOC INT
)
RETURNS VARCHAR(20)
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar VARCHAR(20)
	DECLARE @DPHONE VARCHAR(20)
	DECLARE @PPHONE VARCHAR(20)
	DECLARE @CPHONE VARCHAR(20)

	--(DESTCODES.PHONENUM <> '' ? DESTCODES.PHONENUM : PHONEBOOK.PHONENUM)
	SET @DPHONE = (SELECT DESTCODES.PHONENUM 
				FROM SERVCALLS, DOCUMENTS, DESTCODES 
				WHERE DOCUMENTS.DESTCODE = DESTCODES.DESTCODE
				AND DOCUMENTS.DOC = SERVCALLS.DOC
				AND DOCUMENTS.DOC = @DOC)
	
	SET @PPHONE = (SELECT PHONEBOOK.PHONENUM 
					FROM SERVCALLS,  PHONEBOOK 
					WHERE SERVCALLS.PHONE = PHONEBOOK.PHONE
					AND SERVCALLS.DOC = @DOC)

	SET @CPHONE = (SELECT CUSTOMERS.PHONE 
					FROM DOCUMENTS,  CUSTOMERS 
					WHERE DOCUMENTS.CUST = CUSTOMERS.CUST
					AND DOCUMENTS.DOC = @DOC)
					
	SET @ResultVar = ' '

	IF @DPHONE = '' AND @PPHONE  <> ''
		begin
			set @ResultVar = @PPHONE
		end

	IF @PPHONE= '' AND @DPHONE  <> ''
		begin
			set @ResultVar = @DPHONE
		end

	IF @PPHONE <> '' AND @DPHONE  <> ''
		begin
			set @ResultVar = @DPHONE
		end

	IF @PPHONE = '' AND @DPHONE  = ''
		begin
			set @ResultVar = @CPHONE
		end
	return @ResultVar
END

GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_STATUS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[SVCCALL_STATUS]
(
	-- Add the parameters for the function here
	@DOC INT
)
RETURNS VARCHAR(20)
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar VARCHAR(20)
	DECLARE @WARDATEFINAL INT
	DECLARE @EXPIRYDATE INT

	SET @WARDATEFINAL = (SELECT WARDATEFINAL FROM SERVCALLS WHERE DOC = @DOC)
	SET @EXPIRYDATE = (SELECT EXPIRYDATE FROM SERVCALLS WHERE DOC = @DOC)
	set @ResultVar = ' '

	IF @WARDATEFINAL <> 0 AND @WARDATEFINAL >= dbo.DATETOMIN(getdate())
		begin
			set @ResultVar = ' (Un. Warr.)'
		end

	IF @EXPIRYDATE <> 0 AND @EXPIRYDATE >= dbo.DATETOMIN(getdate())
		begin
			set @ResultVar = ' (Un. Cont.)'
		end

	return @ResultVar
END

GO
/****** Object:  UserDefinedFunction [dbo].[SVCCALL_TECHS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Author,,Name>
-- Create date: <Create Date,,>
-- Description:	<Description,,>
-- =============================================
CREATE FUNCTION [dbo].[SVCCALL_TECHS]()
RETURNS 
@SVCCALL_TECHS TABLE 
(
	-- Add the column definitions for the TABLE variable here
	SERVCALL INT, 
	TECH INT
)
AS
BEGIN
	-- Fill the table variable with the rows for your result set
	INSERT INTO  @SVCCALL_TECHS 
	SELECT SERVCALLS.DOC, SERVCALLS.TECHNICIAN FROM SERVCALLS
	WHERE SERVCALLS.DOC > 0 AND SERVCALLS.TECHNICIAN > 0
	INSERT INTO  @SVCCALL_TECHS 
	SELECT SERVCALLS.DOC, SERVCALLS.TECHNICIAN2 FROM SERVCALLS
	WHERE SERVCALLS.DOC > 0 AND SERVCALLS.TECHNICIAN2 > 0
	INSERT INTO  @SVCCALL_TECHS 
	SELECT SERVCALLS.DOC, SERVCALLS.TECHNICIAN3 FROM SERVCALLS
	WHERE SERVCALLS.DOC > 0 AND SERVCALLS.TECHNICIAN3 > 0
	RETURN 
END

GO
/****** Object:  UserDefinedFunction [dbo].[WARHS_EXT]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[WARHS_EXT] (
) 
RETURNS 
@RET_WARHS_EXT TABLE 
(
	WARHSNAME varchar(10),
	PARTNAME varchar(20),
	PARTDES Varchar(50), 
	QTY REAL,
	PRICE MONEY
)
AS
BEGIN

DECLARE @WARHS_EXT TABLE 
(
	WARHSNAME varchar(10),
	PARTNAME varchar(20),
	PARTDES Varchar(50), 
	QTY REAL,
	PRICE MONEY
)
	-- Fill the table variable with the rows for your result set
	INSERT INTO @WARHS_EXT
	SELECT     dbo.WAREHOUSES.WARHSNAME, dbo.PART.PARTNAME, dbo.PART.PARTDES, SUM(dbo.REALQUANT(dbo.WARHSBAL.BALANCE)) 
						  AS QTY, 0 AS PRICE
	FROM         dbo.WARHSBAL INNER JOIN
						  dbo.PART ON dbo.WARHSBAL.PART = dbo.PART.PART INNER JOIN
						  dbo.WAREHOUSES ON dbo.WARHSBAL.WARHS = dbo.WAREHOUSES.WARHS
	WHERE     (dbo.WARHSBAL.WARHS IN
							  (SELECT DISTINCT WARHS
								FROM          dbo.USERSA
								WHERE      (WARHS > 0))) AND (dbo.WARHSBAL.CUST = - 1)
	GROUP BY dbo.WAREHOUSES.WARHSNAME, dbo.PART.PARTNAME, dbo.PART.PARTDES
	HAVING      (SUM(dbo.REALQUANT(dbo.WARHSBAL.BALANCE)) > 0)

/*AND (dbo.PARTPRICE.PLIST = 15)*/

	INSERT INTO @WARHS_EXT
	SELECT     dbo.WAREHOUSES.WARHSNAME, dbo.PART.PARTNAME, dbo.PART.PARTDES, 9999 AS QTY, 0 AS PRICE
	FROM         dbo.WAREHOUSES CROSS JOIN
						  dbo.PART RIGHT OUTER JOIN
						  dbo.ZPDA_KANBAN_PART ON dbo.PART.PART = dbo.ZPDA_KANBAN_PART.PART
	WHERE     (dbo.WAREHOUSES.WARHS IN
							  (SELECT     WARHS
								FROM          dbo.USERSA
								WHERE      (WARHS > 0))) AND (dbo.ZPDA_KANBAN_PART.PART > 0)
/**/

INSERT INTO @RET_WARHS_EXT
SELECT * FROM @WARHS_EXT
ORDER BY PARTDES

RETURN 
END
GO
/****** Object:  UserDefinedFunction [dbo].[pda_BankCodes]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[pda_BankCodes]
()
RETURNS 
@BANKCODES TABLE 
(
	-- Add the column definitions for the TABLE variable here
	bankcode varchar(4),
	bankname VARCHAR(50)	
)
AS
BEGIN
	-- Fill the table variable with the rows for your result set
	INSERT INTO @BANKCODES
	SELECT BANKCODE, BANKNAME
	FROM   BANKS AS banks
                WHERE  BANK <> 0
	RETURN 
END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustPartString]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		Si
-- Create date: 30/04/2013
-- Description:	Get the deliminated coallesced list of parts
-- =============================================
CREATE FUNCTION [dbo].[pda_CustPartString]
(
	-- Add the parameters for the function here
	@cust int,
	@family varchar(50)
)
RETURNS varchar(max)
AS
BEGIN
	-- Declare the return variable here
	declare @parts varchar(max)    
	select @parts = coalesce(@parts,'','') + ltrim(rtrim(str(part ))) + ','
	from [dbo].[pda_CustomerPartList](@cust, @family)

	-- Return the result of the function
	RETURN @parts

END

GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerAccInfo]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_CustomerAccInfo] ( @CUST INT )
RETURNS VARCHAR(MAX)
AS
BEGIN
   DECLARE @result varchar(max)
   declare @html varchar(max)
   select @html = coalesce(@html + ' ',' ',' ') + TEXT
   from ZROD_CUSTACCTTEXT 
   where CUST = @CUST
   and TEXTLINE > 0
   order by TEXTORD
   if (@html IS null)
		begin
			set @result = ''
		end
	else
		begin
			SET @result = replace(replace(@html,'<',':['),'>',']:')
		end
   RETURN @result
END

GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerDetails]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE  FUNCTION [dbo].[pda_CustomerDetails] (
-- Add the parameters for the function here
@PHONE INT,
@CUST INT)
RETURNS @DETAIL TABLE (
  -- Add the column definitions for the TABLE variable here
  custnumber VARCHAR(50),
  custname   VARCHAR(50),
  contact    VARCHAR(50),
  phone      VARCHAR(50),
  address    VARCHAR(50),
  address2   VARCHAR(50),
  address3   VARCHAR(50),
  address4   VARCHAR(50),
  postcode   VARCHAR(50),
  paycustname VARCHAR(50),
  custpo     VARCHAR(1))
  
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
	  DECLARE @CONTACT VARCHAR(100)
	  SET @CONTACT = (select NAME from PHONEBOOK where PHONE = @PHONE)

      INSERT INTO @DETAIL
		SELECT     CS.CUSTNAME, CS.CUSTDES, isnull(@CONTACT,' '), CS.PHONE, CS.ADDRESS,  CS.ADDRESS2, CS.ADDRESS3, 
				CS.STATE, CS.ZIP, (case WHEN CS.IVTOPAYCUST = 'Y' THEN CS1.CUSTNAME ELSE CS.CUSTNAME END), CS.ZEMG_MAND_CUST_PO
		FROM         dbo.CUSTOMERS AS CS, dbo.CUSTOMERS AS CS1
		WHERE CS.CUST = @CUST
		AND   CS.PAYCUST = CS1.CUST
      RETURN
  END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerFamily]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[pda_CustomerFamily] (
-- Add the parameters for the function here
@CUST INT)
RETURNS @PL TABLE (
  -- Add the column definitions for the TABLE variable here
  family  VARCHAR(50) ,
  parts varchar(max))
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
      INSERT INTO @PL
      SELECT DISTINCT 
             dbo.FAMILY.FAMILYDES, dbo.pda_CustPartString(@CUST,dbo.FAMILY.FAMILYDES)
      FROM   dbo.INVOICES
             INNER JOIN dbo.INVOICEITEMS
                        INNER JOIN dbo.PART
							INNER JOIN dbo.FAMILY
								ON dbo.PART.FAMILY = dbo.FAMILY.FAMILY
                               ON dbo.INVOICEITEMS.PART = dbo.PART.PART
                     ON dbo.INVOICES.IV = dbo.INVOICEITEMS.IV
      WHERE  ( INVOICES.CUST = @CUST )
             AND ( dbo.INVOICES.IVDATE > dbo.DATETOMIN(GETDATE() - 365))
      ORDER  BY FAMILYDES

      IF (SELECT COUNT(*)
          FROM   @PL) = 0
        BEGIN
            INSERT INTO @PL
            SELECT '', ''
        END

      RETURN
  END 


GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerPartList]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[pda_CustomerPartList] (
-- Add the parameters for the function here
@CUST INT,
@FAMILY varchar(50))
RETURNS @PL TABLE (
  -- Add the column definitions for the TABLE variable here
  part    INT
   )
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
      INSERT INTO @PL
      SELECT DISTINCT dbo.PART.PART             
      FROM   dbo.ORDERS
             INNER JOIN dbo.ORDERITEMS
                        INNER JOIN dbo.PART
							INNER JOIN dbo.FAMILY
								ON dbo.PART.FAMILY = dbo.FAMILY.FAMILY
                               ON dbo.ORDERITEMS.PART = dbo.PART.PART
                     ON dbo.ORDERS.ORD = dbo.ORDERITEMS.ORD
      WHERE  ( ORDERS.CUST = @CUST )
			and (dbo.FAMILY.FAMILYDES = @FAMILY)
             AND ( dbo.ORDERS.CURDATE > dbo.DATETOMIN(GETDATE() - 365))
      ORDER  BY dbo.PART.PART

      IF (SELECT COUNT(*)
          FROM   @PL) = 0
        BEGIN
            INSERT INTO @PL
            SELECT 0
        END

      RETURN
  END 
  

GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerPriceList]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_CustomerPriceList] (
-- Add the parameters for the function here
@CUST INT)
RETURNS @PL TABLE (
  -- Add the column definitions for the TABLE variable here
  name    VARCHAR(50),
  barcode VARCHAR(50),
  des     VARCHAR(50),
  tquant  numeric,
  price   money )
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
      INSERT INTO @PL
      SELECT dbo.PART.PARTNAME,
             dbo.PART.BARCODE,
             dbo.PART.PARTDES,
             dbo.PARTPRICE.QUANT / 1000,
             CONVERT(MONEY, dbo.ZROD_PARTDISCAMTS.FIXEDDISC)
      FROM   dbo.ZROD_PARTDISCAMTS
             INNER JOIN dbo.PARTPRICE
                        INNER JOIN dbo.PART
                                ON dbo.PARTPRICE.PART = dbo.PART.PART
                     ON dbo.ZROD_PARTDISCAMTS.PART = dbo.PARTPRICE.PART
                        AND dbo.ZROD_PARTDISCAMTS.QTY = dbo.PARTPRICE.QUANT
      WHERE  ( dbo.PARTPRICE.PLIST = -1 )
             AND ( dbo.ZROD_PARTDISCAMTS.CUST = @CUST )
      ORDER  BY dbo.PARTPRICE.QUANT / 1000 DESC

      IF (SELECT COUNT(*)
          FROM   @PL) = 0
        BEGIN
            INSERT INTO @PL
            SELECT '0',
                   '0',
                   '0',
                   0,
                   0
        END

      RETURN
  END 

GO
/****** Object:  UserDefinedFunction [dbo].[pda_CustomerRemarks]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_CustomerRemarks] ( @CUST INT )
RETURNS VARCHAR(MAX)
AS
BEGIN
   declare @html varchar(max)
   declare @result varchar(max)
   select @html = coalesce(@html + ' ',' ','') + TEXT
   from CUSTOMERSTEXT 
   where CUST = @CUST
   and TEXTLINE > 0
   order by TEXTORD
   if (@html IS null)
		begin
			set @result = ''
		end
	else
		begin
			SET @result = replace(replace(@html,'<',':['),'>',']:')
		end
   RETURN @result
END

GO
/****** Object:  UserDefinedFunction [dbo].[pda_Deliveries]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_Deliveries] (
	@ROUTE   INT,
	@CURDATE int
)
RETURNS @DEL TABLE ( 
  cust			   INT,
  ord              INT,
  ordinal          VARCHAR(20), 
  custnumber       VARCHAR(50),
  postcode         VARCHAR(10),
  sonum            VARCHAR(20),
  showprices       VARCHAR(1),
  delivered        VARCHAR(1),
  nodeliveryreason VARCHAR(1),
  phone            INT
)
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
      INSERT INTO @DEL
      SELECT ORDERS.CUST,
             ORDERS.ORD,
			 dbo.INTTOALPHA(dbo.pda_RouteOrder(@ROUTE, @CURDATE, cust.CUST, ORDERS.ORD)),
             CUSTDES,
             ZIP,
             ORDNAME,
             ISSUEFLAG,
             'N',
             '',
             ORDERS.PHONE
      FROM   ORDERS AS ORDERS
             INNER JOIN CUSTOMERS AS cust
                     ON ORDERS.CUST = cust.CUST
			 inner join ORDSTATUS
						on ORDERS.ORDSTATUS = ORDSTATUS.ORDSTATUS
      WHERE  ORD in (select distinct ORD from ORDERITEMS where ZROD_ROUTE = @ROUTE AND DUEDATE = @CURDATE)
	  and ORDSTATUS.OPENDOCFLAG='Y'
	  AND ORDSTATUS.CLOSED =''
      ORDER BY dbo.pda_RouteOrder(@ROUTE, @CURDATE, cust.CUST, ORDERS.ORD)
      
      INSERT INTO @DEL
      SELECT CUSTOMERS.CUST,
             0,
			 CUSTOMERS.CUST + 999,
             CUSTDES,
             ZIP,
             '',
             ISSUEFLAG,
             'Y',
             '',
             PHONEBOOK.PHONE
      FROM   CUSTOMERS LEFT OUTER JOIN PHONEBOOK
			ON CUSTOMERS.CUST = PHONEBOOK.CUST 
      WHERE  (ZROD_ROUTE1 = @ROUTE OR ZROD_ROUTE2 = @ROUTE OR ZROD_ROUTE1 = @ROUTE)
      --AND    (ORDFLAG = 'Y')
      AND    (CUSTOMERS.CUST NOT IN (SELECT ORDERS.CUST
									FROM   ORDERS											
									WHERE  ORD in (select distinct ORD from ORDERITEMS 
									where ZROD_ROUTE = @ROUTE AND DUEDATE = @CURDATE)))
      ORDER BY CUST
             
	  IF (SELECT COUNT(*) FROM @DEL) = 0
		begin
			INSERT INTO @DEL
      	    SELECT 0,0,0, '0','0','0','0',0,'0','0'
		end
		
      RETURN
  END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_DeliveryItems]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_DeliveryItems] (
-- Add the parameters for the function here
@ROUTE INT,
@ORD   INT)
RETURNS @PART TABLE (
  -- Add the column definitions for the TABLE variable here
  ordi      INT,
  name      VARCHAR(50),
  des       VARCHAR(50),
  parttype  VARCHAR(1),
  cheese VARCHAR(1),
  barcode   VARCHAR(50),
  lotnumber VARCHAR(50),
  tquant    numeric,
  cquant    numeric ,
  unitprice money,
  totprice money, 
  partial VARCHAR(1))
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
      INSERT INTO @PART
      SELECT ORDERITEMS.ORDI,
             PARTNAME,
             dbo.xmlSafeVarChar(dbo.PART.PARTDES),
             TYPE,
			 PART.NOTFIXEDCONV,
             BARCODE,
             '',
             CASE PART.NOTFIXEDCONV
				WHEN 'Y' THEN ((CASE WHEN ZROD_NOSTOCK = 'P' THEN ZROD_AVAILQTY ELSE TBALANCE END)/ 1000) * PART.CONV
				ELSE ((CASE WHEN ZROD_NOSTOCK = 'P' THEN ZROD_AVAILQTY ELSE TBALANCE END) / 1000)
			 end,
             0,
			 ORDERITEMS.PRICE * (100.0 - ORDERITEMS.T$PERCENT) / 100.0,
			 QPRICE, 
			 ZROD_NOSTOCK
      FROM   ORDERITEMS
             INNER JOIN PART
                     ON ORDERITEMS.PART = PART.PART
			INNER JOIN PARTPARAM 
					 ON PART.PART = PARTPARAM.PART
      WHERE  ORDERITEMS.ORD = @ORD
             AND ORDERITEMS.ZROD_ROUTE = @ROUTE
			 AND ADDPARTTREEFLAG <> 'Y'
			 and TBALANCE > 0
			 AND CLOSED <> 'Y'
			 AND ZROD_NOSTOCK <> 'X'
      ORDER  BY TYPE      

	  IF (SELECT COUNT(*) FROM @PART) = 0
		begin
			INSERT INTO @PART
      	    SELECT 0,'','','','','','',0,0,0.0,0.0,''
		end

	RETURN

  END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_Family]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_Family]
()
RETURNS 
@FAMILY TABLE 
(
	-- Add the column definitions for the TABLE variable here
	family int,
	familyname VARCHAR(50), 
	familytype varchar(20)	
)
AS
BEGIN
	-- Fill the table variable with the rows for your result set
	INSERT INTO @FAMILY
	SELECT FAMILY, FAMILYDES, FTNAME
	FROM   FAMILY AS family join FAMILYTYPES  on family.FAMILYTYPE = FAMILYTYPES.FAMILYTYPE
                WHERE  FAMILY IN (SELECT FAMILY
                                  FROM   PART
                                         INNER JOIN PARTPRICE
                                                 ON PARTPRICE.PART = PART.PART
                                  WHERE  PLIST = -1)
				and FAMILY in (SELECT FAMILY FROM v_PDAFAMILY)
                       --AND family.ZROD_PDAFLAG = 'Y'
	RETURN 
END

GO
/****** Object:  UserDefinedFunction [dbo].[pda_FamilyParts]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[pda_FamilyParts] (
-- Add the parameters for the function here
@FAMILY INT)
RETURNS @PART TABLE (
  -- Add the column definitions for the TABLE variable here
  part    INT,
  name    VARCHAR(50),
  des     VARCHAR(50),
  barcode VARCHAR(50))
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
      INSERT INTO @PART
      SELECT DISTINCT PART.PART AS part,
                      PARTNAME  AS name,
                      dbo.xmlSafeVarChar(dbo.PART.PARTDES)   AS des,
                      BARCODE   AS barcode
      FROM   PART
             INNER JOIN PARTPRICE
                     ON PARTPRICE.PART = PART.PART
      WHERE  PLIST = -1
             AND FAMILY = @FAMILY
			 AND PART.ZROD_PDAFLAG = 'Y'

      RETURN
  END 

GO
/****** Object:  UserDefinedFunction [dbo].[pda_InvoiceItems]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_InvoiceItems] (
-- Add the parameters for the function here
@IV INT)
RETURNS @II TABLE (
  -- Add the column definitions for the TABLE variable here
  ordi      INT,
  invi      INT,
  name      VARCHAR(30),
  barcode   VARCHAR(30),
  des       VARCHAR(50),
  qty       numeric,
  unitprice MONEY )
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
      INSERT INTO @II
      SELECT INVOICEITEMS.ORDI,
			 INVOICEITEMS.IV * 1000 + INVOICEITEMS.KLINE,
             PARTNAME,
             BARCODE,
             dbo.xmlSafeVarChar(dbo.PART.PARTDES),
             TQUANT / 1000,
             CONVERT(MONEY, INVOICEITEMS.PRICE)
      FROM   INVOICEITEMS
             INNER JOIN PART
                     ON INVOICEITEMS.PART = PART.PART
      WHERE  INVOICEITEMS.IV = @IV

      RETURN
  END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_Invoices]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_Invoices] (
-- Add the parameters for the function here
@CUST INT)
RETURNS @INV TABLE (
  -- Add the column definitions for the TABLE variable here
  iv      INT,
  ivnum   VARCHAR(30),
  ivdate  INT,
  duedate INT,
  total   MONEY )
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
      INSERT INTO @INV
      SELECT IV                       AS iv,
             IVNUM                    AS ivnum,
             IVDATE                   AS ivdate,
             PAYDATE                  AS duedate,
             CONVERT(MONEY, TOTPRICE) AS total
      FROM   INVOICES AS INV
      WHERE  TYPE IN ( 'A', 'C' )
             AND DEBIT = 'D'
             AND FINAL = 'Y'
             AND STORNOFLAG <> 'Y'
             AND INV.CUST = @CUST
             AND FNCTRANS IN (SELECT FNCTRANS
                              FROM   FNCITEMS
                              WHERE  FRECONNUM = 0
                                     AND DEBIT1 > 0.0)
			 AND dbo.MINTODATE(IVDATE) > getdate() - 60

      DECLARE @C INT

      SET @C = (SELECT COUNT(*)
                FROM   @INV)

      IF @C = 0
        BEGIN
            INSERT INTO @INV
            SELECT 0,
                   '0',
                   0,
                   0,
                   0.00
        END

      RETURN
  END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_PartSerials]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Author,,Name>
-- Create date: <Create Date,,>
-- Description:	<Description,,>
-- =============================================
CREATE FUNCTION [dbo].[pda_PartSerials] 
(
	-- Add the parameters for the function here
	@PART INT,
	@WARHS INT
)
RETURNS 
@PS TABLE 
(
	-- Add the column definitions for the TABLE variable here
	serial varchar(50),
	qty numeric
)
AS
BEGIN
	-- Fill the table variable with the rows for your result set
	DECLARE @ty char(1)
	set @ty = (Select TYPE from PART where PART = @PART)
	
	if @ty='P' 
		begin		
			insert into @PS 
			SELECT     ISNULL(dbo.SERIAL.SERIALNAME, '0') AS SERIALNAME, SUM(dbo.WARHSBAL.BALANCE / 1000) AS BALANCE
			FROM         dbo.PART INNER JOIN
								  dbo.WARHSBAL ON dbo.PART.PART = dbo.WARHSBAL.PART LEFT OUTER JOIN
								  dbo.SERIAL ON dbo.WARHSBAL.PART = dbo.SERIAL.PART AND dbo.WARHSBAL.SERIAL = dbo.SERIAL.SERIAL
			WHERE     (dbo.WARHSBAL.WARHS = @WARHS) AND (dbo.WARHSBAL.PART = @PART) AND (dbo.WARHSBAL.BALANCE / 1000 > 0) and (dbo.PART.TYPE IN (N'P'))
			GROUP BY ISNULL(dbo.SERIAL.SERIALNAME, '0')		
		END
	else
		BEGIN
			insert into @PS 
			SELECT     '0' AS SERIALNAME, ISNULL(SUM(dbo.WARHSBAL.BALANCE / 1000),0) AS BALANCE
			FROM         dbo.PART INNER JOIN
								  dbo.WARHSBAL ON dbo.PART.PART = dbo.WARHSBAL.PART
			WHERE     (dbo.WARHSBAL.WARHS = @WARHS) AND (dbo.WARHSBAL.PART = @PART) AND (dbo.WARHSBAL.BALANCE / 1000 > 0) and (dbo.PART.TYPE IN (N'R',N'O'))   
		END
		
	declare @c int
	set @c = (select count (serial) from @PS)
	if @c = 0
		begin
			insert into @PS values (0,null)
		end
		
	RETURN 
END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_PartSerials1]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Author,,Name>
-- Create date: <Create Date,,>
-- Description:	<Description,,>
-- =============================================
CREATE FUNCTION [dbo].[pda_PartSerials1] 
(
	-- Add the parameters for the function here
	@PART INT,
	@WARHS INT
)
RETURNS 
@PS TABLE 
(
	-- Add the column definitions for the TABLE variable here
	serial varchar(50),
	qty numeric, 
	expdate int
)
AS
BEGIN
	-- Fill the table variable with the rows for your result set

	DECLARE @ty char(1)
	set @ty = (Select TYPE from PART where PART = @PART)
	
	--if @ty='P' 
	--	begin		
			insert into @PS 
			SELECT     ISNULL(dbo.SERIAL.SERIALNAME, '0') AS SERIALNAME, SUM(dbo.WARHSBAL.BALANCE / 1000) AS BALANCE, dbo.SERIAL.EXPIRYDATE AS expdate
			FROM         dbo.PART INNER JOIN
								  dbo.WARHSBAL ON dbo.PART.PART = dbo.WARHSBAL.PART  inner JOIN
								  dbo.SERIAL ON dbo.WARHSBAL.PART = dbo.SERIAL.PART AND dbo.WARHSBAL.SERIAL = dbo.SERIAL.SERIAL
			WHERE     (dbo.WARHSBAL.WARHS = @WARHS) AND (dbo.WARHSBAL.PART = @PART) AND (dbo.WARHSBAL.BALANCE / 1000 > 0) --and (dbo.PART.TYPE IN (N'P'))
			GROUP BY ISNULL(dbo.SERIAL.SERIALNAME, '0'), dbo.SERIAL.EXPIRYDATE	
			ORDER BY dbo.SERIAL.EXPIRYDATE 
	--	END
	--else
	--	BEGIN
	--		insert into @PS 
	--		SELECT     '0' AS SERIALNAME, ISNULL(SUM(dbo.WARHSBAL.BALANCE / 1000),0) AS BALANCE, dbo.DATETOMIN8(GETDATE()) AS expdate
	--		FROM         dbo.PART INNER JOIN
	--							  dbo.WARHSBAL ON dbo.PART.PART = dbo.WARHSBAL.PART
	--		WHERE     (dbo.WARHSBAL.WARHS = @WARHS) AND (dbo.WARHSBAL.PART = @PART) AND (dbo.WARHSBAL.BALANCE / 1000 > 0) and (dbo.PART.TYPE IN (N'R',N'O'))   
	--	END
		

	declare @c int
	set @c = (select count (serial) from @PS)
	if @c = 0
		begin
			insert into @PS values (0,null,0)
		end
		
	RETURN 
END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_PartsStdPrice]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_PartsStdPrice] (
-- Add the parameters for the function here
@PART INT)
RETURNS @PRICES TABLE (
  -- Add the column definitions for the TABLE variable here
  tquant  MONEY,
  price   MONEY )
AS
  BEGIN
      -- Fill the table variable with the rows for your result set
      INSERT INTO @PRICES
      SELECT 
             QUANT / 1000                    AS tquant,
             CONVERT(MONEY, PARTPRICE.PRICE) AS price
      FROM   PART
             INNER JOIN PARTPRICE
                     ON PARTPRICE.PART = PART.PART
      WHERE  PLIST = -1
             AND PART.PART = @PART
      order by QUANT / 1000

      RETURN
  END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_Payment]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_Payment]
(
	-- Add the parameters for the function here
	@CUST INT
)
RETURNS 
@PAY TABLE 
(
	-- Add the column definitions for the TABLE variable here
	paymentterms varchar(50), 
	overduepayment MONEY,
	dueamount MONEY,
	todaysinvoicetotal MONEY,
	cash MONEY,
	cheque MONEY,
	chequenum varchar(10),
	bank varchar(4),
	credit money,
	unallocated money,
	flags varchar(1)
)
AS
BEGIN
	-- Fill the table variable with the rows for your result set
	INSERT INTO @PAY
	--SELECT PAYDES                   AS paymentterms,
	--   CONVERT(MONEY, SUM(CASE
	--						WHEN PAYDATE < dbo.DATETOMIN8(GETDATE()) THEN TOTPRICE
	--						ELSE 0.00
	--					  END)) AS overduepayment,
	--   CONVERT(MONEY, SUM(CASE
	--						WHEN PAYDATE = dbo.DATETOMIN8(GETDATE()) then TOTPRICE
	--						--datediff(MI, '1988-01-01 23:59:59.9999999', GETDATE()) THEN TOTPRICE
	--						ELSE 0.00
	--					  END)) AS dueamount,
	--   0.0                      AS todaysinvoicetotal,
	--   0.00                     AS cash,
	--   0.00                     AS cheque,
	--   ' '                      AS chequenum,
	--   ' '						AS bank, 
	--   0.00                     AS credit,
	--   0.00						AS unallocated,
	--   ' '						AS flags
	--FROM   INVOICES INV,
	--   PAY
	--WHERE  TYPE IN ( 'A', 'C' )
	--   AND DEBIT = 'D'
	--   AND FINAL = 'Y'
	--   AND STORNOFLAG <> 'Y'
	--   AND INV.CUST = @CUST
	--   AND (SELECT PAY FROM CUSTOMERS WHERE CUST = @CUST) = PAY.PAY
	--   AND FNCTRANS IN (SELECT FNCTRANS
	--					FROM   FNCITEMS
	--					WHERE  FRECONNUM = 0
	--						   AND DEBIT1 > 0.0)
	--GROUP  BY PAYDES

	SELECT PAYDES                   AS paymentterms,
	   CONVERT(MONEY, SUM(CASE
							WHEN PAYDATE < dbo.DATETOMIN8(GETDATE()) AND DEBIT = 'D' AND TYPE IN ( 'A', 'C' ) THEN DEBIT1 - CREDIT1
							ELSE 0.00
						  END)) AS overduepayment,
	   CONVERT(MONEY, SUM(CASE
							WHEN PAYDATE = dbo.DATETOMIN8(GETDATE()) AND DEBIT = 'D' AND TYPE IN ( 'A', 'C' ) then DEBIT1 - CREDIT1
							--datediff(MI, '1988-01-01 23:59:59.9999999', GETDATE()) THEN TOTPRICE
							ELSE 0.00
						  END)) AS dueamount,
	   0.0                      AS todaysinvoicetotal,
	   0.00                     AS cash,
	   0.00                     AS cheque,
	   ' '                      AS chequenum,
	   ' '						AS bank, 
	   CONVERT(MONEY, SUM(CASE
							WHEN DEBIT = 'C' AND TYPE IN ( 'A', 'C' ) then DEBIT1 - CREDIT1
							ELSE  0.00  
							END))                  AS credit,
	   CONVERT(MONEY, SUM(CASE
							WHEN TYPE = 'T' then DEBIT1 - CREDIT1
							ELSE  0.00  
							END)) 					AS unallocated,
	   ' '						AS flags
	FROM   FNCITEMS,  INVOICES INV, GENLEDGERS,
	   PAY
	WHERE  TYPE IN ( 'A', 'C', 'T' )
	   --AND DEBIT = 'D'
	   AND INV.FINAL = 'Y'
	   AND INV.STORNOFLAG <> 'Y'
	   AND INV.CUST = @CUST
	   AND FNCITEMS.FNCTRANS = INV.FNCTRANS
	   AND  FNCITEMS.GL = GENLEDGERS.GL
       AND  (GENLEDGERS.GL   NOT IN (-1,-2,-4))
	   AND (SELECT PAY FROM CUSTOMERS WHERE CUST = @CUST) = PAY.PAY
	   AND FRECONNUM = 0
	   AND (DEBIT1 <> 0.0 OR CREDIT1 <> 0.0)
	   AND FNCITEMS.ACCOUNT = (SELECT ACCOUNT FROM CUSTOMERS WHERE CUST = @CUST)
	GROUP  BY PAYDES
	
	IF (SELECT COUNT(*) FROM @PAY) = 0
		begin
			INSERT INTO @PAY
      	    SELECT PAYDES,
			0.00, 0.00, 0.0, 0.00, 0.00, ' ', ' ', 0.00, 0.00, ' '
			from PAY 
			WHERE PAY = (SELECT PAY FROM CUSTOMERS WHERE CUST = @CUST)
		end
			
	RETURN 
END

GO
/****** Object:  UserDefinedFunction [dbo].[pda_QuestRemarks]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_QuestRemarks] ( @QUESTF INT )
RETURNS VARCHAR(MAX)
AS
BEGIN
   declare @html varchar(max)
   select @html = coalesce(@html + ' ',' ','') + TEXT
   from QUESTFORMTEXT as QTEXT
   where QUESTF = @QUESTF
   and TEXTLINE > 0
   order by TEXTORD
   RETURN replace(replace(@html,'<',':['),'>',']:')
END

GO
/****** Object:  UserDefinedFunction [dbo].[pda_RouteOrder]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_RouteOrder]
(
	-- Add the parameters for the function here
	@ROUTE INT,
	@CURDATE INT,
	@CUST INT,
	@ORD int
)
RETURNS bigint
AS
BEGIN
	-- Declare the return variable here
	DECLARE @ResultVar int
	declare @Route int

	-- Add the T-SQL statements to compute the return value here
	set @Route = (
		Select top 1 ZROD_ROUTEORDER 
		from ORDERITEMS 
		where ZROD_ROUTE = @ROUTE 
		AND DUEDATE = @CURDATE 
		AND ORD = @ORD) --in (select ORD from ORDERS where CUST= @CUST))

	if @Route = 0 
		begin
			set @ResultVar = cast('1000' + ltrim(rtrim(str(@ORD))) as int)
		end
	else
		begin
			set @ResultVar = cast('9'+ltrim(rtrim(str(@Route))) + ltrim(rtrim(str(@ORD))) as int)
		end

	-- Return the result of the function
	RETURN @ResultVar

END

GO
/****** Object:  UserDefinedFunction [dbo].[pda_Survey]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE FUNCTION [dbo].[pda_Survey] (
-- Add the parameters for the function here
@QUESTF INT,
 @QGROUP INT)
RETURNS XML
AS
  BEGIN
      RETURN
        (SELECT QUESTNUM AS number,
                QUESTDES AS text,
                ZROD_MANDATORY AS mandatory,
                (SELECT ANSDES AS text,
                        ANSNUM AS number
                 FROM   ANSWERS
                 WHERE  QUESTF = @QUESTF
                        AND QUESTNUM = Quest.QUESTNUM
                 FOR XML PATH('option'), type),
                (SELECT '' AS text,
                        '' AS value
                 FOR XML path('response'), type)
         FROM   QUESTIONS AS Quest
         WHERE  QUESTF = @QUESTF
                AND QGROUP = @QGROUP
         ORDER  BY SORT
         FOR XML PATH('question'), type)
  END


GO
/****** Object:  UserDefinedFunction [dbo].[pda_VanPartTotal]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		Si
-- Create date: 24/05/13
-- Description:	Get Total Number of part in warehouse
-- =============================================
CREATE  FUNCTION [dbo].[pda_VanPartTotal] 
(
	-- Add the parameters for the function here
	@PART int,
	@WARHS INT	
)
RETURNS int
AS
BEGIN
	declare @ret int
	set @ret = (select SUM(qty) FROM dbo.pda_PartSerials1(@PART, @WARHS))
	return @ret
END

GO
/****** Object:  UserDefinedFunction [dbo].[pda_WhsParts]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		<Author,,Name>
-- Create date: <Create Date,,>
-- Description:	<Description,,>
-- =============================================
CREATE FUNCTION [dbo].[pda_WhsParts] 
(
	-- Add the parameters for the function here
	@WARHS int
)
RETURNS 
@whs TABLE 
(
	-- Add the column definitions for the TABLE variable here
	PART INT,
	PARTNAME VARCHAR(20),
	PARTDES VARCHAR(50),
	BARCODE VARCHAR(50)
)
AS
BEGIN
	-- Fill the table variable with the rows for your result set
	insert into @whs
	select 0, '', '0','0'
	union all
	SELECT DISTINCT dbo.PART.PART, dbo.PART.PARTNAME, dbo.xmlSafeVarChar(dbo.PART.PARTDES), dbo.PART.BARCODE
	FROM         dbo.WARHSBAL INNER JOIN
						  dbo.PART ON dbo.WARHSBAL.PART = dbo.PART.PART INNER JOIN
						  dbo.FAMILY ON dbo.PART.FAMILY = dbo.FAMILY.FAMILY
	WHERE     (dbo.WARHSBAL.WARHS = @WARHS) AND (dbo.WARHSBAL.BALANCE > 0) AND (dbo.FAMILY.ZROD_PDAFLAG = 'Y')
	RETURN 
END

GO
/****** Object:  UserDefinedFunction [dbo].[xmlSafeVarChar]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:		Si
-- Create date: 20/05/13
-- Description:	Replace not XML safe Chars
-- =============================================
CREATE  FUNCTION	[dbo].[xmlSafeVarChar]
(
	-- Add the parameters for the function here
	@str VARCHAR(MAX)
)
RETURNS VARCHAR(MAX)
AS
BEGIN

	declare @ret varchar(max)
	set @ret = (@str)
	--set @ret = replace(@ret,'/','-')
	--set @ret = replace(@ret,'&','and')
	-- Return the result of the function
	RETURN @ret

END

GO
/****** Object:  View [dbo].[V_ALL_ORDERITEMS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_ALL_ORDERITEMS]
AS
SELECT     TOP (100) PERCENT dbo.ORDERITEMS.ORDI, dbo.ZROD_ROUTES.ROUTENAME, dbo.CUSTOMERS.CUSTNAME, dbo.CUSTOMERS.CUSTDES, dbo.PART.PARTNAME, 
                      SUM(dbo.ORDERITEMS.TBALANCE / 1000) AS QUANT, dbo.PART.PARTDES, dbo.PART.TYPE, dbo.FAMILY.ZROD_PICKORDER, dbo.ORDERS.ORDNAME, 
                      dbo.ORDERITEMS.LINE, dbo.ORDERITEMS.DUEDATE, dbo.PARTPARAM.INVFLAG, SUM(dbo.ORDERITEMS.ZROD_TOBEPICKED / 1000) AS ZROD_TOBEPICKED, 
                      CONVERT(varchar(8), dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) + ' ' + DATENAME(dw, dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE
FROM         dbo.ORDERITEMS INNER JOIN
                      dbo.ZROD_ROUTES ON dbo.ORDERITEMS.ZROD_ROUTE = dbo.ZROD_ROUTES.ROUTE INNER JOIN
                      dbo.ORDERS ON dbo.ORDERITEMS.ORD = dbo.ORDERS.ORD INNER JOIN
                      dbo.ORDSTATUS ON dbo.ORDERS.ORDSTATUS = dbo.ORDSTATUS.ORDSTATUS INNER JOIN
                      dbo.CUSTOMERS ON dbo.ORDERS.CUST = dbo.CUSTOMERS.CUST INNER JOIN
                      dbo.PART ON dbo.ORDERITEMS.PART = dbo.PART.PART INNER JOIN
                      dbo.FAMILY ON dbo.PART.FAMILY = dbo.FAMILY.FAMILY INNER JOIN
                      dbo.PARTPARAM ON dbo.PART.PART = dbo.PARTPARAM.PART
WHERE     (dbo.ORDSTATUS.AUTODISTRIBFLAG = 'Y') AND (dbo.ZROD_ROUTES.ZROD_PICKTYPE IN ('B', 'S')) AND (dbo.PARTPARAM.INVFLAG = 'Y')
GROUP BY dbo.ORDERITEMS.ORDI, dbo.ZROD_ROUTES.ROUTENAME, dbo.CUSTOMERS.CUSTNAME, dbo.CUSTOMERS.CUSTDES, dbo.PART.PARTNAME, dbo.PART.PARTDES, 
                      dbo.PART.TYPE, dbo.FAMILY.ZROD_PICKORDER, dbo.ORDERS.ORDNAME, dbo.ORDERITEMS.LINE, dbo.ORDERITEMS.DUEDATE, dbo.PARTPARAM.INVFLAG, 
                      dbo.ORDERITEMS.ZROD_TOBEPICKED
ORDER BY dbo.ORDERITEMS.DUEDATE, dbo.ORDERS.ORDNAME

GO
/****** Object:  View [dbo].[V_PICKED_MONITOR]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_PICKED_MONITOR]
AS
SELECT     ORDI, ZROD_ROUTES.ROUTENAME, CUSTNAME, CUSTDES, PARTNAME, (TQUANT - ZROD_TOBEPICKED) / 1000 AS QUANT, PARTDES, dbo.PART.TYPE, 
                      FAMILY.ZROD_PICKORDER, ORDNAME, ORDERITEMS.LINE, ORDERITEMS.DUEDATE, CONVERT(varchar(8), dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) 
                      + ' ' + DATENAME(dw, dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE, ZROD_IN_CHECK, CONV, ISNULL(PACKQUANT / 1000, 0) AS PACKING, 
                      NOTFIXEDCONV,FTNAME
FROM         ORDERITEMS INNER JOIN
                      ORDERS ON ORDERITEMS.ORD = ORDERS.ORD INNER JOIN
                      CUSTOMERS ON ORDERS.CUST = CUSTOMERS.CUST INNER JOIN
                      ORDSTATUS ON ORDERS.ORDSTATUS = ORDSTATUS.ORDSTATUS INNER JOIN
                      PART ON ORDERITEMS.PART = PART.PART INNER JOIN
                      ZROD_ROUTES ON ZROD_ROUTES.ROUTE = ORDERITEMS.ZROD_ROUTE INNER JOIN
                      FAMILY ON FAMILY.FAMILY = PART.FAMILY INNER JOIN
FAMILYTYPES ON FAMILYTYPES.FAMILYTYPE = FAMILY.FAMILYTYPE INNER JOIN
                      PARTPARAM ON PARTPARAM.PART = PART.PART FULL OUTER JOIN
                      PARTPACK ON PARTPACK.PART = PART.PART
WHERE     (DUEDATE BETWEEN
                          (SELECT     VALUE - 1440
                            FROM          LASTS
                            WHERE      NAME = 'PICK_DATE') AND
                          (SELECT     VALUE + 2880
                            FROM          LASTS
                            WHERE      NAME = 'PICK_DATE')) AND ZROD_TOBEPICKED >= 0 AND AUTODISTRIBFLAG = 'Y' AND ZROD_ROUTES.ZROD_PICKTYPE = 'B' AND 
                      ZROD_IN_CHECK <> 'Y' AND ZROD_TOBEPICKED <> TQUANT AND ORDERITEMS.CLOSED <> 'C' AND PARTPARAM.INVFLAG = 'Y'
UNION ALL
SELECT     ORDI, ZROD_ROUTES.ROUTENAME, CUSTNAME, CUSTDES, PARTNAME, (TQUANT - ZROD_TOBEPICKED) / 1000 AS QUANT, PARTDES, dbo.PART.TYPE, 
                      FAMILY.ZROD_PICKORDER, ORDNAME, ORDERITEMS.LINE, ORDERITEMS.DUEDATE, CONVERT(varchar(8), dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) 
                      + ' ' + DATENAME(dw, dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE, ZROD_IN_CHECK, CONV, ISNULL(PACKQUANT / 1000, 0) AS PACKING, 
                      NOTFIXEDCONV,FTNAME
FROM         ORDERITEMS INNER JOIN
                      ORDERS ON ORDERITEMS.ORD = ORDERS.ORD INNER JOIN
                      CUSTOMERS ON ORDERS.CUST = CUSTOMERS.CUST INNER JOIN
                      ORDSTATUS ON ORDERS.ORDSTATUS = ORDSTATUS.ORDSTATUS INNER JOIN
                      PART ON ORDERITEMS.PART = PART.PART INNER JOIN
                      ZROD_ROUTES ON ZROD_ROUTES.ROUTE = ORDERITEMS.ZROD_ROUTE INNER JOIN
                      FAMILY ON FAMILY.FAMILY = PART.FAMILY INNER JOIN
FAMILYTYPES ON FAMILYTYPES.FAMILYTYPE = FAMILY.FAMILYTYPE INNER JOIN
                      PARTPARAM ON PARTPARAM.PART = PART.PART FULL OUTER JOIN
                      PARTPACK ON PARTPACK.PART = PART.PART
WHERE     (DUEDATE BETWEEN
                          (SELECT     VALUE - 1440
                            FROM          LASTS
                            WHERE      NAME = 'PICK_DATE') AND
                          (SELECT     VALUE + 2880
                            FROM          LASTS
                            WHERE      NAME = 'PICK_DATE')) AND ZROD_TOBEPICKED >= 0 AND AUTODISTRIBFLAG = 'Y' AND ZROD_ROUTES.ZROD_PICKTYPE = 'S' AND 
                      ZROD_IN_CHECK <> 'Y' AND ZROD_TOBEPICKED <> TQUANT AND ORDERITEMS.CLOSED <> 'C' AND PARTPARAM.INVFLAG = 'Y'

GO
/****** Object:  View [dbo].[V_PICK_MONITOR]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_PICK_MONITOR]
AS
SELECT     ORDI, ZROD_ROUTES.ROUTENAME, CUSTNAME, CUSTDES, PARTNAME, CASE ZROD_NOSTOCK WHEN 'P' THEN ZROD_AVAILQTY ELSE SUM(TBALANCE / 1000) END AS QUANT, PARTDES, dbo.PART.TYPE, FAMILY.ZROD_PICKORDER, 
                      ORDNAME, ORDERITEMS.LINE, ORDERITEMS.DUEDATE, PARTPARAM.INVFLAG, sum(ZROD_TOBEPICKED / 1000) AS ZROD_TOBEPICKED, CONVERT(varchar(8), 
                      dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) + ' ' + DATENAME(dw, dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE, CONV, 
                      ISNULL(PACKQUANT / 1000, 0) AS PACKING, NOTFIXEDCONV, FTNAME
FROM         ORDERITEMS INNER JOIN
                      ORDERS ON ORDERITEMS.ORD = ORDERS.ORD INNER JOIN
                      CUSTOMERS ON ORDERS.CUST = CUSTOMERS.CUST INNER JOIN
                      ORDSTATUS ON ORDERS.ORDSTATUS = ORDSTATUS.ORDSTATUS INNER JOIN
                      PART ON ORDERITEMS.PART = PART.PART INNER JOIN
                      ZROD_ROUTES ON ZROD_ROUTES.ROUTE = ORDERITEMS.ZROD_ROUTE INNER JOIN
                      FAMILY ON FAMILY.FAMILY = PART.FAMILY INNER JOIN
                      FAMILYTYPES ON FAMILYTYPES.FAMILYTYPE = FAMILY.FAMILYTYPE INNER JOIN
                      PARTPARAM ON PARTPARAM.PART = PART.PART FULL OUTER JOIN
                      PARTPACK ON PARTPACK.PART = PART.PART
WHERE     (DUEDATE BETWEEN
                          (SELECT     VALUE - 1440
                            FROM          LASTS
                            WHERE      NAME = 'PICK_DATE') AND
                          (SELECT     VALUE + 2880
                            FROM          LASTS
                            WHERE      NAME = 'PICK_DATE')) AND TBALANCE > 0 AND ORDERITEMS.CLOSED <> 'C' AND ORDERITEMS.ZROD_IN_PICK <> 'Y' AND 
                      AUTODISTRIBFLAG = 'Y' AND ZROD_ROUTES.ZROD_PICKTYPE = 'B' AND ORDERITEMS.ZROD_TOBEPICKED > 0 AND PARTPARAM.INVFLAG = 'Y' AND ZROD_NOSTOCK <> 'X'
GROUP BY ORDI, ZROD_ROUTES.ROUTENAME, CUSTNAME, CUSTDES, PARTNAME, PARTDES, dbo.PART.TYPE, FAMILY.ZROD_PICKORDER, ORDNAME, ORDERITEMS.LINE, 
                      ORDERITEMS.DUEDATE, PARTPARAM.INVFLAG, ZROD_TOBEPICKED, CONV, PACKQUANT, NOTFIXEDCONV, FAMILYDES, FTNAME,ZROD_NOSTOCK,ZROD_AVAILQTY
UNION ALL
SELECT     ORDERITEMS.ORDI, ZROD_ROUTES.ROUTENAME, CUSTNAME, CUSTDES, PARTNAME,CASE ZROD_NOSTOCK WHEN 'P' THEN ZROD_AVAILQTY ELSE SUM(dbo.MINOP(TBALANCE, TQUANT - PACKED) / 1000) END AS QUANT, 
                      PARTDES, dbo.PART.TYPE, FAMILY.ZROD_PICKORDER, ORDNAME, ORDERITEMS.LINE, ORDERITEMS.DUEDATE, PARTPARAM.INVFLAG, 
                      sum(ZROD_TOBEPICKED / 1000) AS ZROD_TOBEPICKED, CONVERT(varchar(8), dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) + ' ' + DATENAME(dw, 
                      dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE, CONV, ISNULL(PACKQUANT / 1000, 0) AS PACKING, NOTFIXEDCONV, FTNAME
FROM         ORDERITEMS INNER JOIN
                      ORDERS ON ORDERITEMS.ORD = ORDERS.ORD INNER JOIN
                      CUSTOMERS ON ORDERS.CUST = CUSTOMERS.CUST INNER JOIN
                      ORDSTATUS ON ORDERS.ORDSTATUS = ORDSTATUS.ORDSTATUS INNER JOIN
                      PART ON ORDERITEMS.PART = PART.PART INNER JOIN
                      ZROD_ROUTES ON ZROD_ROUTES.ROUTE = ORDERITEMS.ZROD_ROUTE INNER JOIN
                      FAMILY ON FAMILY.FAMILY = PART.FAMILY INNER JOIN
                      FAMILYTYPES ON FAMILYTYPES.FAMILYTYPE = FAMILY.FAMILYTYPE INNER JOIN
                      PARTPARAM ON PARTPARAM.PART = PART.PART FULL OUTER JOIN
                      PARTPACK ON PARTPACK.PART = PART.PART
WHERE     (DUEDATE BETWEEN
                          (SELECT     VALUE - 1440
                            FROM          LASTS
                            WHERE      NAME = 'PICK_DATE') AND
                          (SELECT     VALUE + 2880
                            FROM          LASTS
                            WHERE      NAME = 'PICK_DATE')) AND TBALANCE > 0 AND TQUANT > PACKED AND ORDERITEMS.CLOSED <> 'C' AND ORDERITEMS.ZROD_IN_PICK <> 'Y' AND 
                      AUTODISTRIBFLAG = 'Y' AND ZROD_ROUTES.ZROD_PICKTYPE = 'S' AND ORDERITEMS.ZROD_TOBEPICKED > 0 AND PARTPARAM.INVFLAG = 'Y' AND ZROD_NOSTOCK <> 'X'
GROUP BY ORDERITEMS.ORDI, ZROD_ROUTES.ROUTENAME, CUSTNAME, CUSTDES, PARTDES, PARTNAME, dbo.PART.TYPE, FAMILY.ZROD_PICKORDER, ORDNAME, 
                      ORDERITEMS.LINE, ORDERITEMS.DUEDATE, PARTPARAM.INVFLAG, ZROD_TOBEPICKED, CONV, PACKQUANT, NOTFIXEDCONV, FTNAME,ZROD_NOSTOCK,ZROD_AVAILQTY

GO
/****** Object:  View [dbo].[V_QUANT_COUNT]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_QUANT_COUNT]
AS
SELECT     SUM(QUANT) AS AMOUNT, ROUTENAME, DUEDATE, 'PICK' AS TYP
FROM         V_PICK_MONITOR
GROUP BY ROUTENAME, DUEDATE
UNION ALL
SELECT     SUM(QUANT) AS AMOUNT, ROUTENAME, DUEDATE, 'CHECK' AS TYP
FROM         V_PICKED_MONITOR
GROUP BY ROUTENAME, DUEDATE
UNION ALL
SELECT     SUM(QUANT) AS AMOUNT, ROUTENAME, DUEDATE, 'ALL' AS TYP
FROM         V_ALL_ORDERITEMS
GROUP BY ROUTENAME, DUEDATE

GO
/****** Object:  View [dbo].[V_SVCCALLTECHS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_SVCCALLTECHS]
AS
SELECT     SERVCALL, TECH
FROM         dbo.SVCCALL_TECHS() AS SVCCALL_TECHS_1

GO
/****** Object:  View [dbo].[V_SERVCALL]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_SERVCALL]
AS
SELECT     TOP (100) PERCENT DOCUMENTS.DOCNO, SERVCALLS.STARTDATE AS [Date Opened], dbo.SERVCALLS.PDATE, system.dbo.USERS.USERLOGIN, 
                      dbo.SVCCALL_CODE(dbo.DOCUMENTS.DOC) + ' ' + dbo.SVCCALL_STATUS(dbo.DOCUMENTS.DOC) AS Status, dbo.CUSTOMERS.CUSTDES AS [Customer Name], 
                       dbo.SVCCALL_ADDRESS('A1',dbo.DOCUMENTS.DOC) AS [Address 2],  dbo.SVCCALL_ADDRESS('A2',dbo.DOCUMENTS.DOC) AS [Address 2.1], dbo.SVCCALL_ADDRESS('A2',dbo.DOCUMENTS.DOC) AS [Address 3], 
                       dbo.SVCCALL_ADDRESS('A5',dbo.DOCUMENTS.DOC) AS [Post Code],  dbo.SVCCALL_ADDRESS('A4',dbo.DOCUMENTS.DOC) AS [City/County], dbo.PHONEBOOK.NAME, dbo.SVCCALL_PHONE(dbo.DOCUMENTS.DOC) AS [Phone Number], 
                      dbo.SERVTYPES.SERVTDES, dbo.SERVCALLS.PTIME
FROM         dbo.PHONEBOOK RIGHT OUTER JOIN
                      system.dbo.USERS AS USERS_2 RIGHT OUTER JOIN
                      dbo.SERVTYPES RIGHT OUTER JOIN
                      dbo.DESTCODES INNER JOIN
                      dbo.DOCUMENTS INNER JOIN
                      dbo.SERVCALLS ON dbo.DOCUMENTS.DOC = dbo.SERVCALLS.DOC ON dbo.DESTCODES.DESTCODE = dbo.DOCUMENTS.DESTCODE INNER JOIN
                      dbo.CALLSTATUSES ON dbo.SERVCALLS.CALLSTATUS = dbo.CALLSTATUSES.CALLSTATUS INNER JOIN
                      dbo.CUSTOMERS ON dbo.DOCUMENTS.CUST = dbo.CUSTOMERS.CUST ON dbo.SERVTYPES.SERVTYPE = dbo.SERVCALLS.SERVTYPE LEFT OUTER JOIN
                      system.dbo.USERS INNER JOIN
                      dbo.V_SVCCALLTECHS ON system.dbo.USERS.T$USER = dbo.V_SVCCALLTECHS.TECH ON dbo.SERVCALLS.DOC = dbo.V_SVCCALLTECHS.SERVCALL ON 
                      USERS_2.T$USER = dbo.SERVCALLS.TECHNICIAN3 ON dbo.PHONEBOOK.PHONE = dbo.SERVCALLS.PHONE LEFT OUTER JOIN
                      dbo.DOCUMENTSA ON dbo.DOCUMENTS.DOC = dbo.DOCUMENTSA.DOC
WHERE     (dbo.DOCUMENTS.TYPE = 'Q') AND (dbo.CALLSTATUSES.ACTIVEFLAG = 'Y') AND (dbo.SERVCALLS.PDATE >= dbo.DATETOMIN(GETDATE() - 1)) AND 
                      (dbo.CALLSTATUSES.ZPDA_PDASTATUS = 'Y')
ORDER BY dbo.SERVCALLS.PDATE
GO
/****** Object:  UserDefinedFunction [dbo].[V_ROUTE_PS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE function [dbo].[V_ROUTE_PS] (@route varchar,@DUEDATE INTEGER)
returns table
as
return
SELECT DISTINCT DOCNO FROM DOCUMENTS, TRANSORDER
WHERE DOCUMENTS.TYPE = 'A'
AND   DOCUMENTS.DOC = TRANSORDER.DOC
AND   TRANSORDER.TYPE = 'A'
AND   TRANSORDER.TQUANT = 0
AND   ORDI IN (SELECT ORDI FROM ORDERITEMS, ORDERS, 
CUSTOMERS, ORDSTATUS
WHERE DUEDATE = @DUEDATE
AND   TBALANCE > 0
AND   TQUANT - PACKED > 0
AND   ORDERITEMS.CLOSED <> 'C'
AND   ZROD_IN_PICK <> 'Y' /* only needed if you update the flag after this query*/
AND   ORDERITEMS.ORD = ORDERS.ORD
AND   ORDERS.ORDSTATUS = ORDSTATUS.ORDSTATUS
AND   AUTODISTRIBFLAG = 'Y'
AND   ORDERS.CUST = CUSTOMERS.CUST
AND   ORDERITEMS.ZROD_ROUTE = @route) 

GO
/****** Object:  View [dbo].[CUSTMINPICKDAYS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[CUSTMINPICKDAYS]
AS
SELECT     dbo.CUSTOMERS.CUSTNAME, dbo.PART.PARTNAME, dbo.CUSTPART.ZROD_MINSHELF
FROM         dbo.CUSTPART INNER JOIN
                      dbo.CUSTOMERS ON dbo.CUSTPART.CUST = dbo.CUSTOMERS.CUST INNER JOIN
                      dbo.PART ON dbo.CUSTPART.PART = dbo.PART.PART

GO
/****** Object:  View [dbo].[V_CUSTFORROUTE]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_CUSTFORROUTE]
AS
SELECT     dbo.CUSTOMERS.CUSTNAME, dbo.CUSTOMERS.CUST, dbo.CUSTOMERS.CUSTDES, dbo.ZROD_ROUTES.ROUTENAME, dbo.ORDERITEMS.DUEDATE, 
                      CONVERT(varchar(8), dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) + ' ' + DATENAME(dw, dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE
FROM         dbo.ORDERITEMS INNER JOIN
                      dbo.ZROD_ROUTES ON dbo.ORDERITEMS.ZROD_ROUTE = dbo.ZROD_ROUTES.ROUTE INNER JOIN
                      dbo.ORDERS ON dbo.ORDERITEMS.ORD = dbo.ORDERS.ORD INNER JOIN
                      dbo.ORDSTATUS ON dbo.ORDERS.ORDSTATUS = dbo.ORDSTATUS.ORDSTATUS INNER JOIN
                      dbo.CUSTOMERS ON dbo.ORDERS.CUST = dbo.CUSTOMERS.CUST INNER JOIN
                      dbo.PART ON dbo.ORDERITEMS.PART = dbo.PART.PART INNER JOIN
                      dbo.FAMILY ON dbo.PART.FAMILY = dbo.FAMILY.FAMILY INNER JOIN
                      dbo.PARTPARAM ON dbo.PART.PART = dbo.PARTPARAM.PART
WHERE     (dbo.ORDERITEMS.TBALANCE > 0) AND (dbo.ORDERITEMS.CLOSED <> 'C') AND (dbo.ORDERITEMS.ZROD_IN_PICK <> 'Y') AND 
                      (dbo.ORDSTATUS.AUTODISTRIBFLAG = 'Y') AND (dbo.ZROD_ROUTES.ZROD_PICKTYPE = 'S') AND (dbo.ORDERITEMS.ZROD_TOBEPICKED > 0) AND 
                      (dbo.ORDERITEMS.DUEDATE BETWEEN
                          (SELECT     VALUE - 1440 AS Expr1
                            FROM          dbo.LASTS
                            WHERE      (NAME = 'PICK_DATE')) AND
                          (SELECT     VALUE + 2880 AS Expr1
                            FROM          dbo.LASTS AS LASTS_1
                            WHERE      (NAME = 'PICK_DATE'))) AND (dbo.PARTPARAM.INVFLAG = 'Y')

GO
/****** Object:  View [dbo].[V_PICKEDITEMS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_PICKEDITEMS]
AS
SELECT     dbo.ZROD_PICKS.PICK, dbo.ZROD_PICKS.FORROUTE, dbo.ZROD_PICKLINE.PARTNAME, SUM(dbo.ZROD_PICKLINE.AMOUNTPICKED) / 1000 AS PICKED
FROM         dbo.ZROD_PICKS INNER JOIN
                      dbo.ZROD_PICKLINE ON dbo.ZROD_PICKS.PICK = dbo.ZROD_PICKLINE.PICK
WHERE     (dbo.ZROD_PICKS.FORDATE =
                          (SELECT     VALUE
                            FROM          dbo.LASTS
                            WHERE      (NAME = 'PICK_DATE')))
GROUP BY dbo.ZROD_PICKLINE.PARTNAME, dbo.ZROD_PICKS.PICK, dbo.ZROD_PICKS.FORROUTE

GO
/****** Object:  View [dbo].[V_PICKED_ROUTE]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_PICKED_ROUTE]
AS
SELECT     dbo.ZROD_ROUTES.ROUTENAME, dbo.ZROD_ROUTES.ROUTEDES, dbo.ORDERITEMS.DUEDATE, CONVERT(varchar(8), 
                      dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) + ' ' + DATENAME(dw, dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE, 
                      dbo.ZROD_ROUTES.ZROD_PICKTYPE
FROM         dbo.ORDERITEMS INNER JOIN
                      dbo.ORDERS ON dbo.ORDERITEMS.ORD = dbo.ORDERS.ORD INNER JOIN
                      dbo.ORDSTATUS ON dbo.ORDERS.ORDSTATUS = dbo.ORDSTATUS.ORDSTATUS INNER JOIN
                      dbo.CUSTOMERS ON dbo.ORDERS.CUST = dbo.CUSTOMERS.CUST INNER JOIN
                      dbo.ZROD_ROUTES ON dbo.ORDERITEMS.ZROD_ROUTE = dbo.ZROD_ROUTES.ROUTE INNER JOIN
                      dbo.PART ON dbo.PART.PART = dbo.ORDERITEMS.PART INNER JOIN
                      dbo.PARTPARAM ON dbo.PARTPARAM.PART = dbo.PART.PART
WHERE     (dbo.ORDSTATUS.AUTODISTRIBFLAG = 'Y') AND (dbo.ZROD_ROUTES.ZROD_PICKTYPE IN ('B', 'S')) AND (dbo.ORDERITEMS.ZROD_TOBEPICKED >= 0) AND 
                      (dbo.ORDERITEMS.ZROD_IN_CHECK <> 'Y') AND (dbo.ORDERITEMS.DUEDATE BETWEEN
                          (SELECT     VALUE - 1440 AS Expr1
                            FROM          dbo.LASTS
                            WHERE      (NAME = 'PICK_DATE')) AND
                          (SELECT     VALUE + 2880 AS Expr1
                            FROM          dbo.LASTS AS LASTS_1
                            WHERE      (NAME = 'PICK_DATE'))) AND (dbo.ORDERITEMS.CLOSED <> 'C') AND (dbo.ORDERITEMS.ZROD_TOBEPICKED <> dbo.ORDERITEMS.TQUANT) AND 
                      (dbo.PARTPARAM.INVFLAG = 'Y')
GROUP BY dbo.ZROD_ROUTES.ROUTENAME, dbo.ORDERITEMS.DUEDATE, dbo.ZROD_ROUTES.ROUTEDES, dbo.ZROD_ROUTES.ZROD_PICKTYPE

GO
/****** Object:  View [dbo].[V_PICKLIST_PARTS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_PICKLIST_PARTS]
AS
SELECT     TOP (100) PERCENT dbo.PART.PART, dbo.PART.PARTNAME, dbo.PART.BARCODE, dbo.SERIAL.SERIALNAME, dbo.WARHSBAL.BALANCE / 1000 AS balance, 
                      dbo.SERIAL.EXPIRYDATE, dbo.WAREHOUSES.WARHSNAME, dbo.WAREHOUSES.LOCNAME, dbo.PART.TYPE, dbo.FAMILY.ZROD_PICKORDER, dbo.PART.PARTDES, 
                      dbo.PART.ZSFDC_MINPICKDAYS
FROM         dbo.PART INNER JOIN
                      dbo.WARHSBAL ON dbo.PART.PART = dbo.WARHSBAL.PART INNER JOIN
                      dbo.SERIAL ON dbo.WARHSBAL.SERIAL = dbo.SERIAL.SERIAL INNER JOIN
                      dbo.WAREHOUSES ON dbo.WARHSBAL.WARHS = dbo.WAREHOUSES.WARHS INNER JOIN
                      dbo.FAMILY ON dbo.PART.FAMILY = dbo.FAMILY.FAMILY
WHERE     (dbo.WARHSBAL.WARHS <> 0) AND (dbo.SERIAL.EXPIRYDATE >=
                          (SELECT     VALUE + dbo.PART.ZSFDC_MINPICKDAYS * 1440 AS Expr1
                            FROM          dbo.LASTS
                            WHERE      (NAME = 'PICK_DATE'))) AND (dbo.WARHSBAL.BALANCE > 0) AND (dbo.WAREHOUSES.ZROD_HIDEFROMPICK <> 'Y') AND 
                      (dbo.WAREHOUSES.ZROD_HIDEFROMPICK <> 'Yes') AND (dbo.WAREHOUSES.ZROD_HIDEFROMPICK <> 'YES')
ORDER BY dbo.FAMILY.ZROD_PICKORDER

GO
/****** Object:  View [dbo].[V_PICK_MONITOR2]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_PICK_MONITOR2]
AS
SELECT     TOP (100) PERCENT dbo.TRANSORDER.ORDI, dbo.ZROD_ROUTES.ROUTENAME, dbo.CUSTOMERS.CUSTNAME, dbo.CUSTOMERS.CUSTDES, dbo.PART.PARTNAME, 
                      dbo.TRANSORDER.QUANT / 1000 AS QUANT, dbo.PART.PARTDES, dbo.PART.TYPE, dbo.FAMILY.ZROD_PICKORDER, dbo.ORDERS.ORDNAME, 
                      dbo.ORDERITEMS.LINE, dbo.ORDERITEMS.DUEDATE, CONVERT(varchar(8), dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) + ' ' + DATENAME(dw, 
                      dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE, dbo.ORDERITEMS.ZROD_IN_CHECK, dbo.PART.CONV, dbo.SERIAL.SERIALNAME
FROM         dbo.TRANSORDER INNER JOIN
                      dbo.DOCUMENTS ON dbo.TRANSORDER.DOC = dbo.DOCUMENTS.DOC INNER JOIN
                      dbo.ORDERITEMS ON dbo.TRANSORDER.ORDI = dbo.ORDERITEMS.ORDI INNER JOIN
                      dbo.ORDERS ON dbo.ORDERITEMS.ORD = dbo.ORDERS.ORD INNER JOIN
                      dbo.ZROD_ROUTES ON dbo.ORDERS.ZROD_ROUTE = dbo.ZROD_ROUTES.ROUTE INNER JOIN
                      dbo.SERIAL ON dbo.TRANSORDER.SERIAL = dbo.SERIAL.SERIAL INNER JOIN
                      dbo.PART ON dbo.TRANSORDER.PART = dbo.PART.PART INNER JOIN
                      dbo.FAMILY ON dbo.PART.FAMILY = dbo.FAMILY.FAMILY AND dbo.PART.FAMILY = dbo.FAMILY.FAMILY INNER JOIN
                      dbo.CUSTOMERS ON dbo.TRANSORDER.CUST = dbo.CUSTOMERS.CUST INNER JOIN
                      dbo.ORDSTATUS ON dbo.ORDERS.ORDSTATUS = dbo.ORDSTATUS.ORDSTATUS
WHERE     (dbo.TRANSORDER.ORDI <> 0) AND (dbo.DOCUMENTS.DOCNO <> '') AND (dbo.DOCUMENTS.TYPE = 'T') AND (dbo.ZROD_ROUTES.ROUTENAME <> '') AND 
                      (dbo.TRANSORDER.TRANS <> 0) AND (dbo.ORDERITEMS.ZROD_IN_CHECK <> 'Y') AND (dbo.ORDERITEMS.ZROD_TOBEPICKED >= 0) AND 
                      (dbo.ZROD_ROUTES.ZROD_PICKTYPE = 'B') AND (dbo.ORDERITEMS.CLOSED <> 'C') AND (dbo.ORDSTATUS.AUTODISTRIBFLAG = 'Y')
ORDER BY dbo.TRANSORDER.ORDI

GO
/****** Object:  View [dbo].[V_Route_Customer]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_Route_Customer]
AS
SELECT     dbo.CUSTOMERS.CUSTNAME, dbo.DOCUMENTS.DOCNO, dbo.PART.PARTNAME, dbo.TRANSORDER.TQUANT, dbo.SERIAL.SERIALNAME, 
                      dbo.ZROD_ROUTES.ROUTENAME AS ZROD_ROUTE, dbo.DOCUMENTS.CURDATE, dbo.PART.PARTDES, dbo.TRANSORDER.ORDI, dbo.ORDERITEMS.LINE, 
                      dbo.ORDERITEMS.DUEDATE, CONVERT(varchar(8), dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) + ' ' + DATENAME(dw, 
                      dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE
FROM         dbo.DOCUMENTS INNER JOIN
                      dbo.CUSTOMERS ON dbo.DOCUMENTS.CUST = dbo.CUSTOMERS.CUST INNER JOIN
                      dbo.TRANSORDER ON dbo.DOCUMENTS.DOC = dbo.TRANSORDER.DOC INNER JOIN
                      dbo.PART ON dbo.TRANSORDER.PART = dbo.PART.PART INNER JOIN
                      dbo.SERIAL ON dbo.TRANSORDER.SERIAL = dbo.SERIAL.SERIAL INNER JOIN
                      dbo.ORDERITEMS ON dbo.ORDERITEMS.ORDI = dbo.TRANSORDER.ORDI INNER JOIN
                      dbo.ZROD_ROUTES ON dbo.ORDERITEMS.ZROD_ROUTE = dbo.ZROD_ROUTES.ROUTE AND dbo.ORDERITEMS.ZROD_IN_CHECK <> 'Y'
WHERE     (dbo.DOCUMENTS.TYPE = 'A') AND (dbo.TRANSORDER.TYPE = 'A') AND (dbo.ORDERITEMS.DUEDATE BETWEEN
                          (SELECT     VALUE - 1440 AS Expr1
                            FROM          dbo.LASTS
                            WHERE      (NAME = 'PICK_DATE')) AND
                          (SELECT     VALUE + 2880 AS Expr1
                            FROM          dbo.LASTS AS LASTS_1
                            WHERE      (NAME = 'PICK_DATE')))

GO
/****** Object:  View [dbo].[V_SVCCALL_DETAILS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_SVCCALL_DETAILS]
AS
SELECT     TOP (100) PERCENT DOCNO, TXT AS TEXT, USERLOGIN
FROM         dbo.SVCCALL_DETAILS2() AS SVCCALL_DETAILS2_1
ORDER BY DOCNO, USERLOGIN

GO
/****** Object:  View [dbo].[V_SVCCALL_MALFUNCTION]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_SVCCALL_MALFUNCTION]
AS
SELECT     MALFCODE, MALFDES
FROM         dbo.MALFUNCTIONS
WHERE     (MALF > 0)

GO
/****** Object:  View [dbo].[V_SVCCALL_RESOLUTION]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_SVCCALL_RESOLUTION]
AS
SELECT     CODE, DES
FROM         dbo.SOLUTIONS
WHERE     (SOLUTION > 0)

GO
/****** Object:  View [dbo].[V_SVCCALL_STATUS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_SVCCALL_STATUS]
AS
SELECT     CODE
FROM         dbo.CALLSTATUSES
WHERE     (CALLSTATUS <> 0) AND (ZPDA_PDASTATUS = 'Y')

GO
/****** Object:  View [dbo].[V_SVCCALL_SURVEY]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_SVCCALL_SURVEY]
AS
SELECT     dbo.QUESTFORM.QUESTFCODE, dbo.QUESTFORM.QUESTFDES, dbo.QUESTIONS.QUESTNUM, dbo.QUESTIONTEXT(dbo.QUESTIONS.QUESTF, 
                      dbo.QUESTIONS.QUESTNUM) AS QUESTDES, dbo.ANSWERS.ANSNUM, dbo.ANSWERS.ANSDES
FROM         dbo.QUESTFORM INNER JOIN
                      dbo.QUESTIONS ON dbo.QUESTFORM.QUESTF = dbo.QUESTIONS.QUESTF INNER JOIN
                      dbo.ANSWERS ON dbo.QUESTIONS.QUESTF = dbo.ANSWERS.QUESTF AND dbo.QUESTIONS.QUESTNUM = dbo.ANSWERS.QUESTNUM
WHERE     (dbo.QUESTFORM.QUESTF > 0)

GO
/****** Object:  View [dbo].[V_SVCCALL_WARHS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_SVCCALL_WARHS]
AS
SELECT     PARTNAME, PARTDES, QTY, PRICE, WARHSNAME
FROM         dbo.WARHS_EXT() AS WARHS_EXT_1

GO
/****** Object:  View [dbo].[V_UNPICKED_ROUTE]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_UNPICKED_ROUTE]
AS
SELECT     dbo.ZROD_ROUTES.ROUTE, dbo.ZROD_ROUTES.ROUTENAME, dbo.ZROD_ROUTES.ROUTEDES, dbo.ORDERITEMS.DUEDATE, CONVERT(varchar(8), 
                      dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) + ' ' + DATENAME(dw, dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE)) AS PICKDATE
FROM         dbo.ORDERITEMS INNER JOIN
                      dbo.ORDERS ON dbo.ORDERITEMS.ORD = dbo.ORDERS.ORD INNER JOIN
                      dbo.ORDSTATUS ON dbo.ORDERS.ORDSTATUS = dbo.ORDSTATUS.ORDSTATUS INNER JOIN
                      dbo.CUSTOMERS ON dbo.ORDERS.CUST = dbo.CUSTOMERS.CUST INNER JOIN
                      dbo.ZROD_ROUTES ON dbo.ORDERITEMS.ZROD_ROUTE = dbo.ZROD_ROUTES.ROUTE INNER JOIN
                      dbo.PARTPARAM ON dbo.ORDERITEMS.PART = dbo.PARTPARAM.PART
WHERE     (dbo.ORDERITEMS.DUEDATE BETWEEN
                          (SELECT     VALUE - 1440 AS Expr1
                            FROM          dbo.LASTS
                            WHERE      (NAME = 'PICK_DATE')) AND
                          (SELECT     VALUE + 2880 AS Expr1
                            FROM          dbo.LASTS AS LASTS_1
                            WHERE      (NAME = 'PICK_DATE'))) AND (dbo.ORDERITEMS.TBALANCE > 0) AND (dbo.ORDERITEMS.CLOSED <> 'C') AND (dbo.ORDERITEMS.ZROD_IN_PICK <> 'Y') 
                      AND (dbo.ORDSTATUS.AUTODISTRIBFLAG = 'Y') AND (dbo.ZROD_ROUTES.ZROD_PICKTYPE IN ('B', 'S')) AND 
                      (dbo.ORDERITEMS.TQUANT > dbo.ORDERITEMS.PACKED) AND (dbo.ORDERITEMS.ZROD_TOBEPICKED > 0) AND (dbo.PARTPARAM.INVFLAG = 'Y')
GROUP BY dbo.ZROD_ROUTES.ROUTENAME, dbo.ORDERITEMS.DUEDATE, dbo.ZROD_ROUTES.ROUTEDES, dbo.ZROD_ROUTES.ROUTE

GO
/****** Object:  View [dbo].[V_UNPICKED_ROUTE2]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[V_UNPICKED_ROUTE2]
AS
SELECT     TOP (100) PERCENT dbo.ZROD_ROUTES.ROUTENAME, dbo.ZROD_ROUTES.ROUTEDES, dbo.ORDERITEMS.DUEDATE, CONVERT(varchar(8), 
                      dbo.MINTODATE(dbo.ORDERITEMS.DUEDATE), 3) AS pICKdATE
FROM         dbo.ORDERITEMS INNER JOIN
                      dbo.ORDERS ON dbo.ORDERITEMS.ORD = dbo.ORDERS.ORD INNER JOIN
                      dbo.ORDSTATUS ON dbo.ORDERS.ORDSTATUS = dbo.ORDSTATUS.ORDSTATUS INNER JOIN
                      dbo.CUSTOMERS ON dbo.ORDERS.CUST = dbo.CUSTOMERS.CUST INNER JOIN
                      dbo.ZROD_ROUTES ON dbo.ORDERITEMS.ZROD_ROUTE = dbo.ZROD_ROUTES.ROUTE
WHERE     (dbo.ORDERITEMS.DUEDATE <=
                          (SELECT     VALUE + 2880 AS Expr1
                            FROM          dbo.LASTS
                            WHERE      (NAME = 'PICK_DATE'))) AND (dbo.ORDERITEMS.TBALANCE > 0) AND (dbo.ORDERITEMS.CLOSED <> 'C') AND (dbo.ORDERITEMS.ZROD_IN_PICK <> 'Y') 
                      AND (dbo.ORDSTATUS.AUTODISTRIBFLAG = 'Y') AND (dbo.ZROD_ROUTES.ZROD_PICKTYPE IN ('B', 'S'))
GROUP BY dbo.ZROD_ROUTES.ROUTENAME, dbo.ORDERITEMS.DUEDATE, dbo.ZROD_ROUTES.ROUTEDES
ORDER BY dbo.ZROD_ROUTES.ROUTENAME, dbo.ORDERITEMS.DUEDATE

GO
/****** Object:  View [dbo].[V_UncheckedRoutes]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[V_UncheckedRoutes]
AS
SELECT     FORROUTE
FROM         dbo.ZROD_PICKS
WHERE     (PICK <> 0) AND (FORDATE =
                          (SELECT     VALUE
                            FROM          dbo.LASTS
                            WHERE      (NAME = 'PICK_DATE'))) AND (ISCHECKED = 'N')


GO
/****** Object:  View [dbo].[v_AvgCallValue]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_AvgCallValue]
AS
SELECT     ISNULL(SUM(dbo.ORDERS.TOTPRICE) / COUNT(*), 0.00) AS AvgCallValue
FROM         dbo.ZROD_TELESALECALLS INNER JOIN
                      dbo.ZROD_CALLSTATS ON dbo.ZROD_TELESALECALLS.CALLSTAT = dbo.ZROD_CALLSTATS.CALLSTAT INNER JOIN
                      dbo.ORDERS ON dbo.ZROD_TELESALECALLS.ORD = dbo.ORDERS.ORD INNER JOIN
                      dbo.ORDSTATUS ON dbo.ORDERS.ORDSTATUS = dbo.ORDSTATUS.ORDSTATUS
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE()) + 1439) AND 
                      (dbo.ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y') AND (dbo.ORDSTATUS.CANCELFLAG <> 'Y') AND (dbo.ZROD_TELESALECALLS.TELESALECALL <> 0)


GO
/****** Object:  View [dbo].[v_Calls]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_Calls]
AS
SELECT     'Calls to Make' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE()) + 1439) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.INITSTATFLAG = 'Y' AND 
                      ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT     'Calls Made' AS 'Name', COUNT(*) AS 'Calls'
FROM         dbo.ZROD_TELESALECALLS INNER JOIN
                      dbo.ZROD_CALLSTATS ON dbo.ZROD_TELESALECALLS.CALLSTAT = dbo.ZROD_CALLSTATS.CALLSTAT
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE()) + 1439) AND 
                      (dbo.ZROD_CALLSTATS.INITSTATFLAG <> 'Y') AND (dbo.ZROD_TELESALECALLS.TELESALECALL <> 0)


GO
/****** Object:  View [dbo].[v_CallsByValue]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_CallsByValue]
AS
SELECT     'Value < 10' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS, ORDERS
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE()) + 1439) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y' AND 
                      ORDERS.ORD = ZROD_TELESALECALLS.ORD AND ORDERS.TOTPRICE < 10.0 AND ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT     'Value 10 - 20' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS, ORDERS
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE()) + 1439) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y' AND 
                      ORDERS.ORD = ZROD_TELESALECALLS.ORD AND ORDERS.TOTPRICE BETWEEN 10.0 AND 20.0 AND ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT     'Value > 20' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS, ORDERS
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE()) + 1439) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y' AND 
                      ORDERS.ORD = ZROD_TELESALECALLS.ORD AND ORDERS.TOTPRICE > 20.0 AND ZROD_TELESALECALLS.TELESALECALL <> 0


GO
/****** Object:  View [dbo].[v_OrderRate]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_OrderRate]
AS
SELECT 'Calls Order Placed' as 'Name', COUNT(*) AS 'Calls'
FROM ZROD_TELESALECALLS, ZROD_CALLSTATS
WHERE (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE())+ 1439)
AND ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT
AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y'
AND ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT 'Calls No Order' as 'Name', COUNT(*) AS 'Calls'
FROM ZROD_TELESALECALLS, ZROD_CALLSTATS
WHERE (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE())+ 1439)
AND ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT
AND ZROD_CALLSTATS.NOORDERFLAG = 'Y'
AND ZROD_TELESALECALLS.TELESALECALL <> 0


GO
/****** Object:  View [dbo].[v_PDAFAMILY]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[v_PDAFAMILY]
AS
SELECT     dbo.FAMILY.FAMILY
FROM         dbo.FAMILY LEFT OUTER JOIN
                      dbo.PART ON dbo.FAMILY.FAMILY = dbo.PART.FAMILY
WHERE     (dbo.PART.ZROD_PDAFLAG = 'Y')
GROUP BY dbo.FAMILY.FAMILY
HAVING      (COUNT(dbo.PART.PART) > 0)

GO
/****** Object:  View [dbo].[v_TotalOrders]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_TotalOrders]
AS
SELECT     'Telesale Orders' AS 'Name', COUNT(DISTINCT ORDNAME) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS, ORDERS, ORDSTATUS
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE()) + 1439) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y' AND 
                      ORDERS.ORD = ZROD_TELESALECALLS.ORD AND ORDSTATUS.ORDSTATUS = ORDERS.ORDSTATUS AND ORDSTATUS.CANCELFLAG <> 'Y' AND 
                      ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT     'Total Orders' AS 'Name', COUNT(DISTINCT ORDNAME) AS 'Calls'
FROM        ORDERS, ORDSTATUS
WHERE     (dbo.ORDERS.CURDATE BETWEEN dbo.DATETOMIN8(GETDATE()) AND dbo.DATETOMIN8(GETDATE()) + 1439) AND 
                      ORDSTATUS.ORDSTATUS = ORDERS.ORDSTATUS AND ORDSTATUS.CANCELFLAG <> 'Y' AND ORDERS.ORD <> 0


GO
/****** Object:  View [dbo].[v_USERS]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO


CREATE VIEW [dbo].[v_USERS]
AS
SELECT     system.dbo.USERS.USERLOGIN AS USERLOGIN, system.dbo.USERS.USERNAME, '123' AS PASSWORD, system.dbo.USERS.USERID, 
                      'MAIN' AS WARHSNAME
FROM         system.dbo.USERSB INNER JOIN
                      system.dbo.USERS ON system.dbo.USERSB.USERID = system.dbo.USERS.USERID
WHERE     (system.dbo.USERSB.USERID > 0) AND (system.dbo.USERSB.INACTIVE <> 'Y')


GO
/****** Object:  View [dbo].[v_YestAvgCallValue]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_YestAvgCallValue]
AS
SELECT     ISNULL(SUM(dbo.ORDERS.TOTPRICE) / COUNT(*), 0.00) AS AvgCallValue
FROM         dbo.ZROD_TELESALECALLS INNER JOIN
                      dbo.ZROD_CALLSTATS ON dbo.ZROD_TELESALECALLS.CALLSTAT = dbo.ZROD_CALLSTATS.CALLSTAT INNER JOIN
                      dbo.ORDERS ON dbo.ZROD_TELESALECALLS.ORD = dbo.ORDERS.ORD INNER JOIN
                      dbo.ORDSTATUS ON dbo.ORDERS.ORDSTATUS = dbo.ORDSTATUS.ORDSTATUS
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) - 1440 AND dbo.DATETOMIN8(GETDATE()) - 1) AND 
                      (dbo.ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y') AND (dbo.ORDSTATUS.CANCELFLAG <> 'Y') AND (dbo.ZROD_TELESALECALLS.TELESALECALL <> 0)


GO
/****** Object:  View [dbo].[v_YestCalls]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_YestCalls]
AS
SELECT     'Calls to Make' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) - 1440 AND dbo.DATETOMIN8(GETDATE()) - 1) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.INITSTATFLAG = 'Y' AND 
                      ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT     'Calls Made' AS 'Name', COUNT(*) AS 'Calls'
FROM         dbo.ZROD_TELESALECALLS INNER JOIN
                      dbo.ZROD_CALLSTATS ON dbo.ZROD_TELESALECALLS.CALLSTAT = dbo.ZROD_CALLSTATS.CALLSTAT
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) - 1440 AND dbo.DATETOMIN8(GETDATE()) - 1) AND 
                      (dbo.ZROD_CALLSTATS.INITSTATFLAG <> 'Y') AND (dbo.ZROD_TELESALECALLS.TELESALECALL <> 0)


GO
/****** Object:  View [dbo].[v_YestCallsByValue]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_YestCallsByValue]
AS
SELECT     'Value < 10' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS, ORDERS
WHERE      (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) - 1440 AND dbo.DATETOMIN8(GETDATE()) - 1) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y' AND 
                      ORDERS.ORD = ZROD_TELESALECALLS.ORD AND ORDERS.TOTPRICE < 10.0 AND ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT     'Value 10 - 20' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS, ORDERS
WHERE     (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) - 1440 AND dbo.DATETOMIN8(GETDATE()) - 1) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y' AND 
                      ORDERS.ORD = ZROD_TELESALECALLS.ORD AND ORDERS.TOTPRICE BETWEEN 10.0 AND 20.0 AND ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT     'Value > 20' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS, ORDERS
WHERE      (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) - 1440 AND dbo.DATETOMIN8(GETDATE()) - 1) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y' AND 
                      ORDERS.ORD = ZROD_TELESALECALLS.ORD AND ORDERS.TOTPRICE > 20.0 AND ZROD_TELESALECALLS.TELESALECALL <> 0


GO
/****** Object:  View [dbo].[v_YestOrderRate]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_YestOrderRate]
AS
SELECT     'Calls Order Placed' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS
WHERE    (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) - 1440 AND dbo.DATETOMIN8(GETDATE()) - 1) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y' AND 
                      ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT     'Calls No Order' AS 'Name', COUNT(*) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS
WHERE      (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) - 1440 AND dbo.DATETOMIN8(GETDATE()) - 1) AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.NOORDERFLAG = 'Y' AND ZROD_TELESALECALLS.TELESALECALL <> 0


GO
/****** Object:  View [dbo].[v_YestTotalOrders]    Script Date: 27/09/2013 15:29:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[v_YestTotalOrders]
AS
SELECT     'Telesale Orders' AS 'Name', COUNT(DISTINCT ORDNAME) AS 'Calls'
FROM         ZROD_TELESALECALLS, ZROD_CALLSTATS, ORDERS, ORDSTATUS
WHERE      (dbo.ZROD_TELESALECALLS.DUEDATE BETWEEN dbo.DATETOMIN8(GETDATE()) - 1440 AND dbo.DATETOMIN8(GETDATE()) - 1)  AND 
                      ZROD_CALLSTATS.CALLSTAT = ZROD_TELESALECALLS.CALLSTAT AND ZROD_CALLSTATS.ORDERPLACEDFLAG = 'Y' AND 
                      ORDERS.ORD = ZROD_TELESALECALLS.ORD AND ORDSTATUS.ORDSTATUS = ORDERS.ORDSTATUS AND ORDSTATUS.CANCELFLAG <> 'Y' AND 
                      ZROD_TELESALECALLS.TELESALECALL <> 0
UNION ALL
SELECT     'Total Orders' AS 'Name', COUNT(DISTINCT ORDNAME) AS 'Calls'
FROM         ORDERS, ORDSTATUS
WHERE    (dbo.ORDERS.CURDATE BETWEEN dbo.DATETOMIN8(GETDATE()) -1440 AND dbo.DATETOMIN8(GETDATE()) - 1) AND 
                      ORDSTATUS.ORDSTATUS = ORDERS.ORDSTATUS AND ORDSTATUS.CANCELFLAG <> 'Y' AND ORDERS.ORD <> 0


GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "CUSTPART"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 223
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CUSTOMERS"
            Begin Extent = 
               Top = 6
               Left = 261
               Bottom = 114
               Right = 472
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PART"
            Begin Extent = 
               Top = 6
               Left = 510
               Bottom = 114
               Right = 696
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'CUSTMINPICKDAYS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'CUSTMINPICKDAYS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[30] 2[40] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2[66] 3) )"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 5
   End
   Begin DiagramPane = 
      PaneHidden = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ORDERITEMS"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 264
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ZROD_ROUTES"
            Begin Extent = 
               Top = 6
               Left = 302
               Bottom = 114
               Right = 479
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDERS"
            Begin Extent = 
               Top = 6
               Left = 517
               Bottom = 114
               Right = 746
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDSTATUS"
            Begin Extent = 
               Top = 6
               Left = 784
               Bottom = 114
               Right = 973
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CUSTOMERS"
            Begin Extent = 
               Top = 6
               Left = 1011
               Bottom = 114
               Right = 1238
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PART"
            Begin Extent = 
               Top = 6
               Left = 1276
               Bottom = 114
               Right = 1478
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "FAMILY"
            Begin Extent = 
               Top = 6
               Left = 1516
               Bottom = 114
               Right = 1737
            End
       ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_ALL_ORDERITEMS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'     DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PARTPARAM"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 242
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 16
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      PaneHidden = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_ALL_ORDERITEMS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_ALL_ORDERITEMS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ORDERITEMS"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 248
            End
            DisplayFlags = 280
            TopColumn = 59
         End
         Begin Table = "ZROD_ROUTES"
            Begin Extent = 
               Top = 6
               Left = 997
               Bottom = 114
               Right = 1158
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDERS"
            Begin Extent = 
               Top = 6
               Left = 286
               Bottom = 114
               Right = 499
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDSTATUS"
            Begin Extent = 
               Top = 6
               Left = 537
               Bottom = 114
               Right = 710
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CUSTOMERS"
            Begin Extent = 
               Top = 6
               Left = 748
               Bottom = 114
               Right = 959
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PART"
            Begin Extent = 
               Top = 6
               Left = 1196
               Bottom = 114
               Right = 1382
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "FAMILY"
            Begin Extent = 
               Top = 6
               Left = 1420
               Bottom = 114
               Right = 1625
            End
            DisplayFlags = ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_CUSTFORROUTE'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'280
            TopColumn = 0
         End
         Begin Table = "PARTPARAM"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 226
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_CUSTFORROUTE'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_CUSTFORROUTE'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ZROD_PICKS"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 205
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ZROD_PICKLINE"
            Begin Extent = 
               Top = 6
               Left = 243
               Bottom = 114
               Right = 418
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKEDITEMS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKEDITEMS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[11] 4[32] 2[26] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[30] 2[40] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2[31] 3) )"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 5
   End
   Begin DiagramPane = 
      PaneHidden = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 20
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      PaneHidden = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_MONITOR'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_MONITOR'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[20] 4[30] 2[32] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[30] 2[40] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 3
   End
   Begin DiagramPane = 
      PaneHidden = 
      Begin Origin = 
         Top = -288
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ORDERITEMS"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 264
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDERS"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 224
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDSTATUS"
            Begin Extent = 
               Top = 114
               Left = 262
               Bottom = 222
               Right = 451
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CUSTOMERS"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 265
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ZROD_ROUTES"
            Begin Extent = 
               Top = 330
               Left = 38
               Bottom = 438
               Right = 215
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PART"
            Begin Extent = 
               Top = 294
               Left = 303
               Bottom = 402
               Right = 505
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PARTPARAM"
            Begin Extent = 
               Top = 294
               Left = 543
               Bottom = 402
               Right = 747
            End' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_ROUTE'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_ROUTE'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKED_ROUTE'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[30] 2[41] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 3
   End
   Begin DiagramPane = 
      PaneHidden = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "PART"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 210
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "WARHSBAL"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 189
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "SERIAL"
            Begin Extent = 
               Top = 6
               Left = 248
               Bottom = 114
               Right = 423
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "WAREHOUSES"
            Begin Extent = 
               Top = 114
               Left = 227
               Bottom = 222
               Right = 432
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "FAMILY"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 243
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 13
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKLIST_PARTS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKLIST_PARTS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICKLIST_PARTS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[30] 2[40] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2[52] 3) )"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 5
   End
   Begin DiagramPane = 
      PaneHidden = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 20
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 3495
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      PaneHidden = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[30] 2[20] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2[44] 3) )"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 5
   End
   Begin DiagramPane = 
      PaneHidden = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "TRANSORDER"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 314
               Right = 213
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "DOCUMENTS"
            Begin Extent = 
               Top = 6
               Left = 251
               Bottom = 322
               Right = 459
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDERITEMS"
            Begin Extent = 
               Top = 6
               Left = 497
               Bottom = 317
               Right = 707
            End
            DisplayFlags = 280
            TopColumn = 6
         End
         Begin Table = "ORDERS"
            Begin Extent = 
               Top = 6
               Left = 745
               Bottom = 309
               Right = 958
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ZROD_ROUTES"
            Begin Extent = 
               Top = 6
               Left = 996
               Bottom = 322
               Right = 1157
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "SERIAL"
            Begin Extent = 
               Top = 6
               Left = 1195
               Bottom = 114
               Right = 1370
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PART"
            Begin Extent = 
               Top = 6
               Left = 1408
               Bottom = 114
               Right = 1594
            End
       ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'     DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "FAMILY"
            Begin Extent = 
               Top = 6
               Left = 1632
               Bottom = 114
               Right = 1837
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CUSTOMERS"
            Begin Extent = 
               Top = 114
               Left = 1195
               Bottom = 222
               Right = 1406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDSTATUS"
            Begin Extent = 
               Top = 114
               Left = 1444
               Bottom = 222
               Right = 1617
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 17
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      PaneHidden = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_PICK_MONITOR2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_QUANT_COUNT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_QUANT_COUNT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[30] 2[40] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 3
   End
   Begin DiagramPane = 
      PaneHidden = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "DOCUMENTS"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 246
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CUSTOMERS"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 249
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "TRANSORDER"
            Begin Extent = 
               Top = 6
               Left = 284
               Bottom = 114
               Right = 459
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PART"
            Begin Extent = 
               Top = 114
               Left = 287
               Bottom = 222
               Right = 459
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "SERIAL"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 213
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDERITEMS"
            Begin Extent = 
               Top = 222
               Left = 251
               Bottom = 330
               Right = 461
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ZROD_ROUTES"
            Begin Extent = 
               Top = 6
               Left = 497
               Bottom = 114
               Right = 658
            End
   ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_Route_Customer'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'         DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 13
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1680
         Width = 1500
         Width = 1500
         Width = 2850
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_Route_Customer'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_Route_Customer'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "SVCCALL_TECHS_1"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 84
               Right = 189
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALLTECHS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALLTECHS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1[50] 2[25] 3) )"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1[56] 3) )"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 2
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "SVCCALL_DETAILS2_1"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 189
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 3420
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      PaneHidden = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 2610
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_DETAILS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_DETAILS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MALFUNCTIONS"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 189
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_MALFUNCTION'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_MALFUNCTION'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "SOLUTIONS"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 189
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_RESOLUTION'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_RESOLUTION'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "CALLSTATUSES"
            Begin Extent = 
               Top = 6
               Left = 227
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 9
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_STATUS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_STATUS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[27] 4[35] 2[13] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1[50] 2[25] 3) )"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[30] 2[40] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2[33] 3) )"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 2
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "QUESTFORM"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 189
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "QUESTIONS"
            Begin Extent = 
               Top = 6
               Left = 227
               Bottom = 114
               Right = 378
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ANSWERS"
            Begin Extent = 
               Top = 6
               Left = 416
               Bottom = 114
               Right = 567
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 6315
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      PaneHidden = 
      Begin ColumnWidths = 11
         Column = 6930
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_SURVEY'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_SURVEY'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1[27] 2[47] 3) )"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 2
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "WARHS_EXT_1"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 189
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      PaneHidden = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_WARHS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_SVCCALL_WARHS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[30] 2[40] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2[66] 3) )"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 5
   End
   Begin DiagramPane = 
      PaneHidden = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ORDERITEMS"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 264
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDERS"
            Begin Extent = 
               Top = 6
               Left = 302
               Bottom = 114
               Right = 488
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDSTATUS"
            Begin Extent = 
               Top = 6
               Left = 526
               Bottom = 114
               Right = 715
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CUSTOMERS"
            Begin Extent = 
               Top = 6
               Left = 753
               Bottom = 114
               Right = 980
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ZROD_ROUTES"
            Begin Extent = 
               Top = 6
               Left = 1018
               Bottom = 114
               Right = 1195
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PARTPARAM"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 242
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      PaneHidden = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ORDERITEMS"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 264
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDERS"
            Begin Extent = 
               Top = 6
               Left = 302
               Bottom = 114
               Right = 488
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORDSTATUS"
            Begin Extent = 
               Top = 6
               Left = 526
               Bottom = 114
               Right = 715
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CUSTOMERS"
            Begin Extent = 
               Top = 6
               Left = 753
               Bottom = 114
               Right = 980
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ZROD_ROUTES"
            Begin Extent = 
               Top = 6
               Left = 1018
               Bottom = 114
               Right = 1195
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
 ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'        Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'V_UNPICKED_ROUTE2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "FAMILY"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 259
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PART"
            Begin Extent = 
               Top = 6
               Left = 297
               Bottom = 265
               Right = 485
            End
            DisplayFlags = 280
            TopColumn = 29
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'v_PDAFAMILY'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'v_PDAFAMILY'
GO
